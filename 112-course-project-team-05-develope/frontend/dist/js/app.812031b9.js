(function(t){function e(e){for(var s,o,n=e[0],l=e[1],c=e[2],u=0,h=[];u<n.length;u++)o=n[u],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(s in l)Object.prototype.hasOwnProperty.call(l,s)&&(t[s]=l[s]);d&&d(e);while(h.length)h.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],s=!0,n=1;n<a.length;n++){var l=a[n];0!==r[l]&&(s=!1)}s&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},r={app:0},i=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],l=n.push.bind(n);n.push=e,n=n.slice();for(var c=0;c<n.length;c++)e(n[c]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("cd49")},"055e":function(t,e,a){},"0805":function(t,e,a){"use strict";a("859a")},"1b4e":function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMy1jMDExIDY2LjE0NTY2MSwgMjAxMi8wMi8wNi0xNDo1NjoyNyAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDpFNTE3OEEyQTk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDpFNTE3OEEyQjk5QTAxMUUyOUExNUJDMTA0NkE4OTA0RCI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTI4OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTI5OTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+m4QGuQAAAyRJREFUeNrEl21ojWEYx895TDPbMNlBK46IUiNmPvHBSUjaqc0H8pF5+aDUKPEBqU2NhRQpX5Rv5jWlDIWlMCv7MMSWsWwmb3tpXub4XXWdPHvc9/Gc41nu+nedc7/8r/99PffLdYdDPsvkwsgkTBwsA/PADJCnzX2gHTwBt8Hl7p537/3whn04XoDZDcpBlk+9P8AFcAghzRkJwPF4zGGw0Y9QS0mAM2AnQj77FqCzrtcwB1Hk81SYojHK4DyGuQ6mhIIrBWB9Xm7ug/6B/nZrBHBegrkFxoVGpnwBMSLR9EcEcC4qb8pP14BWcBcUgewMnF3T34VqhWMFkThLJAalwnENOAKiHpJq1FZgI2AT6HZtuxZwR9GidSHtI30jOrbawxlVX78/AbNfhHlomEUJJI89O2MqeE79T8/nk8nMBm/dK576hZgmA3cp/R4l9/UeSxiHLVIlNm4nFfT0bxyuIj7LHRTKai+zdJobwMKzcZSJb0ePV5PKN+BqAAKE47UlMnERELMM3EdYP/yrd+XYb2mOiYBiQ8OQnoRBlXrl9JZix7D1pHTazu4MoyBcnYamqAjIMTR8G4FT8LuhLsexXYYjICBiqhQBvYb6fLZIJCjPypVvaOoVAW2WcasCnL2Nq82xHJNSqlCeFcDshaPK0twkAhosjZL31QYw+1rlMpWGMArl23SBsZZO58F2tlJXmjOXS+s4WGvpMiBJT/I2PInZ6lIs9/hBsNS1hS6BG0DSqmYEDRlCXQrmy50P1oDRKTSegmNbUsA0zDMwRhPJXeCE3vWLPQMvan6X8AgIa1vcR4AkGZkDR4ejJ1UHpsaVI0g2LInpOsNFUud1rhxSV+fzC9Woz2EZkWQuja7/B+jUrgtIMpy9YCW4n4K41YfzRneW5E1KJTe4B2Zq1Q5EHEtj4U3AfEzR5SVY4l7QYQPJdN2as7RKBF0BPZqqH4VgMAMBL8Byxr7y8zCZiDlnOcEKIPmUpgB5Z2ww5RdOiiRiNajUmWda5IG6WbhsyY2fx6m8gLcoJDJFkH219M3We1+cnda93pfycZpIJEL/s/wSYADmOAwAQgdpBAAAAABJRU5ErkJggg=="},"1ed3":function(t,e,a){"use strict";a("65d3")},"272c":function(t,e,a){},"2bfd":function(t,e,a){"use strict";a("92be")},"2c8d":function(t,e,a){"use strict";a("6266")},"2eb2":function(t,e,a){"use strict";a("37f3")},"37f3":function(t,e,a){},"5f26":function(t,e,a){"use strict";a("272c")},6266:function(t,e,a){},"65d3":function(t,e,a){},"6f68":function(t,e,a){"use strict";a("055e")},"859a":function(t,e,a){},"91d2":function(t,e,a){},"92be":function(t,e,a){},a3b7:function(t,e,a){},ba28:function(t,e,a){"use strict";a("e8bd")},cd49:function(t,e,a){"use strict";a.r(e);var s=a("2b0e"),r=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-app",[e("NavBar"),e("router-view")],1)},i=[],o=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-app-bar",{attrs:{dense:"",dark:""}},[e("v-toolbar-title",[e("router-link",{staticClass:"routercolor",attrs:{to:"/project"}},[t._v("PMS")])],1),e("v-spacer"),t.isAuth?e("Notification"):t._e(),t.isAuth?e("v-btn",{on:{click:t.logout}},[e("v-icon",[t._v("mdi-logout")]),t._v(" Logout ")],1):t._e()],1)},n=[],l=a("ade3"),c=a("9ab4"),d=a("2f62"),u=(a("14d9"),a("8c4f")),h=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-container",{staticClass:"paper align-center justify-center",attrs:{"fill-height":"",fluid:""}},[e("div",[e("h1",{staticClass:"title"},[t._v("Welcome to PMS")]),e("v-btn",{staticClass:"login-btn pa-2",on:{click:t.handleLogin}},[e("v-icon",[t._v("mdi-login-variant")]),t._v(" Login via Github ")],1)],1)])},p=[];const v="https://localhost:5001",m="56979f30af5067f72ac4",b="https://github.com/login/oauth/authorize/?client_id="+m;var f=s["default"].extend({methods:{handleLogin:t=>{window.location.assign(b)}}}),g=f,x=(a("1ed3"),a("2877")),y=Object(x["a"])(g,h,p,!1,null,null,null),k=y.exports,_=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-container",{staticClass:"paper align-center justify-center",attrs:{"fill-height":"",fluid:""}},[e("v-form",{ref:"form",staticClass:"form",attrs:{"lazy-validation":""},on:{submit:function(e){return e.preventDefault(),t.handleLogin.apply(null,arguments)}},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[e("v-text-field",{attrs:{label:"Account",rules:t.accountRules,dark:""},model:{value:t.account,callback:function(e){t.account=e},expression:"account"}}),e("v-text-field",{attrs:{label:"Password",rules:t.passwordRules,type:"password",dark:""},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),e("v-btn",{staticClass:"login-btn",attrs:{type:"submit",disabled:t.isRoading}},[t._v("Login")])],1)],1)},w=[],I=s["default"].extend({data(){return{account:"",password:"",valid:!1,isRoading:!1,accountRules:[t=>!!t||"Account is required"],passwordRules:[t=>!!t||"Password is required"]}},methods:{handleLogin(t){this.$refs.form.validate()&&(this.isRoading=!0,$s.auth.loginByAdmin({account:this.account,password:this.password}).then(t=>{this.isRoading=!1}))}}}),j=I,C=(a("f78c"),Object(x["a"])(j,_,w,!1,null,null,null)),D=C.exports,T=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-container",{staticClass:"container-background-color",attrs:{fluid:"","fill-height":""}},[e("v-row",{staticClass:"d-flex justify-center"},[e("v-col",{attrs:{lg:"2"}},[e("UserInfo",{attrs:{avatarUrl:t.user.avatarUrl,name:t.user.name},on:{save:function(e){return t.saveUserName(e)}}})],1),e("v-col",{attrs:{lg:"6"}},[e("v-row",[e("v-col",{staticClass:"d-flex align-center text-h3",attrs:{lg:"3"}},[t._v("Project")]),e("v-col",{staticClass:"d-flex flex-row",attrs:{lg:"7"}},[e("TableSearch",{attrs:{vTextLabel:"Find a Project..."},on:{ChangeInput:function(e){return t.ChangeInput(e)}}})],1),e("v-col",{staticClass:"d-flex justify-end align-end",attrs:{lg:"2"}},[e("NewItem",{attrs:{vCardTitle:"Add Project",vTextLabel:"Project Name"},on:{add:function(e){return t.addproject(e)}}})],1)],1),e("v-divider"),e("v-row",[e("v-col",{attrs:{lg:"12"}},[e("DataTable",{attrs:{searchedName:t.searchedName,tableData:t.projects,user:t.user},on:{deleteProject:t.removeProject}})],1)],1)],1),e("v-snackbar",{attrs:{timeout:t.snackBarTimeout,color:t.snackBarColor},model:{value:t.snackBar,callback:function(e){t.snackBar=e},expression:"snackBar"}},[t._v(" "+t._s(t.msg)+" ")])],1)],1)},A=[],S=a("cee4");const B=()=>S["a"].get(v+"/project/",{headers:{Authorization:"Bearer "+$s.auth.getToken}}).then((function(t){return t})).catch(t=>!1),N=t=>S["a"].get(`${v}/project/${t}`,{headers:{"Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+$s.auth.getToken}}).then(t=>t),P=t=>S["a"].get(`${v}/project/member/${t}`,{headers:{Authorization:"Bearer "+$s.auth.getToken}}),O=(t,e)=>S["a"].delete(`${v}/project/${t}/${e}`,{headers:{Authorization:"Bearer "+$s.auth.getToken}}),R=(t,e)=>S["a"].delete(`${v}/project/member/${t}/${e}`,{headers:{Authorization:"Bearer "+$s.auth.getToken}}),M=t=>S["a"].post(v+"/project/add",{ProjectName:t},{headers:{"Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+$s.auth.getToken}}).then(t=>t),U=(t,e)=>S["a"].post(v+"/project/edit",{ProjectId:t,ProjectName:e},{headers:{"Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+$s.auth.getToken}}).then(t=>t),L=(t,e)=>S["a"].patch(`${v}/project/${t}`,e,{headers:{Authorization:"Bearer "+$s.auth.getToken}}),E=t=>S["a"].delete(`${v}/project/${t}`,{headers:{Authorization:"Bearer "+$s.auth.getToken}}),$=()=>S["a"].get(v+"/project/admin/",{headers:{Authorization:"Bearer "+$s.auth.getToken}});var z=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-card",{staticClass:"pt-5",attrs:{"max-width":"374",height:"700"}},[e("v-card-text",[e("v-avatar",{attrs:{size:"192"}},[e("img",{staticClass:"mb-2",attrs:{height:"250",contain:"",src:t.avatarUrl}})]),e("v-col",{attrs:{md:"12"}},[e("v-row",{staticClass:"d-flex justify-center"},[e("v-edit-dialog",{attrs:{"return-value":t.userName},on:{"update:returnValue":function(e){t.userName=e},"update:return-value":function(e){t.userName=e},save:t.save},scopedSlots:t._u([{key:"input",fn:function(){return[e("v-text-field",{attrs:{rules:[t.max25chars],label:"Edit Name"},model:{value:t.userName,callback:function(e){t.userName=e},expression:"userName"}})]},proxy:!0}])},[e("div",{staticClass:"text-h5"},[t._v(t._s(t.userName))])])],1)],1)],1)],1)},q=[],F=s["default"].extend({props:{name:{type:String},avatarUrl:{type:String}},data(){return{userName:this.name,max25chars:function(t){return t.length<=25||"Input too long!"}}},methods:{save(){this.$emit("save",this.userName)}},watch:{name(t){this.userName=t}}}),J=F,W=Object(x["a"])(J,z,q,!1,null,null,null),Y=W.exports,Z=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-data-iterator",{staticStyle:{"background-color":"rgba(237, 237, 237, 0)"},attrs:{items:t.tableData,search:t.searchedName,user:t.user,"fixed-header":"","hide-default-header":""},scopedSlots:t._u([{key:"default",fn:function(a){return[e("v-dialog",{attrs:{"max-width":"30%"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete?")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.removeProject}},[t._v("OK")]),e("v-spacer")],1)],1)],1),e("v-row",t._l(a.items,(function(a){return e("v-col",{key:a.name,attrs:{cols:"12",sm:"12",md:"6",lg:"4"}},[e("v-card",[e("v-row",[e("v-col",{staticClass:"mr-3",staticStyle:{"text-align":"right"}},[e("v-icon",{attrs:{disabled:!t.isDeleteProjectEnable(t.user.id,a.ownerId)},on:{click:function(e){return t.showDeleteDialog(a.id,t.user.id)}}},[t._v("mdi-close-thick")])],1)],1),e("v-row",[e("v-col",[e("div",{on:{click:function(e){return t.goToRepositoryDetail(a.id,a.name)}}},[e("a",{staticClass:"subheading font-weight-bold text-h4"},[t._v(" "+t._s(a.name)+" ")]),e("div",{staticClass:"mt-8 ml-2",staticStyle:{"text-align":"center"}},[t._v(" Owner: "+t._s(a.ownerName)+" ")])])])],1)],1)],1)})),1)]}}])})},V=[],G=s["default"].extend({props:["searchedName","tableData","user"],data(){return{headers:[{text:"ProjectName",value:"name"},{text:"Actions",value:"actions"}],dialogDelete:!1,deleteUserId:"",deleteProjectId:""}},methods:{goToRepositoryDetail(t,e){this.$router.push({name:"Repository",params:{projectId:t}})},isDeleteProjectEnable(t,e){return e===t},closeDelete(){this.deleteProjectId="",this.deleteUserId="",this.dialogDelete=!1},showDeleteDialog(t,e){this.dialogDelete=!0,this.deleteUserId=e,this.deleteProjectId=t},removeProject(){this.$emit("deleteProject",this.deleteProjectId,this.deleteUserId),this.dialogDelete=!1}}}),H=G,K=Object(x["a"])(H,Z,V,!1,null,null,null),Q=K.exports,X=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-dialog",{attrs:{"max-width":"60%"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-btn",t._g(t._b({attrs:{color:"success"},on:{click:t.clearInputData}},"v-btn",s,!1),a),[e("v-icon",[t._v("mdi-plus-box-multiple-outline")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline"},[t._v(t._s(t.vCardTitle))])]),e("v-card-text",[e("v-container",[e("v-row",[e("v-col",[e("v-select",{directives:[{name:"show",rawName:"v-show",value:t.isShow(),expression:"isShow()"}],attrs:{label:"Select repository type",items:["Github","Gitlab","Sonarqube","Jira","Trello"]},model:{value:t.repoType,callback:function(e){t.repoType=e},expression:"repoType"}})],1)],1)],1),e("v-container",{directives:[{name:"show",rawName:"v-show",value:!t.isShow(),expression:"!isShow()"}]},[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:t.vTextLabel,required:""},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1)],1),e("v-row",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.add}},[t._v(" Add ")])],1)],1),e("v-form",{directives:[{name:"show",rawName:"v-show",value:"Github"===t.repoType,expression:"repoType === 'Github'"}]},[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{directives:[{name:"show",rawName:"v-show",value:""!==t.repoType,expression:"repoType !== ''"}],attrs:{label:t.repoType+" "+t.vTextLabel,required:""},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1)],1),e("v-row",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.add}},[t._v(" Add ")])],1)],1)],1),e("v-form",{directives:[{name:"show",rawName:"v-show",value:"Gitlab"===t.repoType,expression:"repoType === 'Gitlab'"}]},[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{directives:[{name:"show",rawName:"v-show",value:""!==t.repoType,expression:"repoType !== ''"}],attrs:{label:t.repoType+" "+t.vTextLabel,required:""},model:{value:t.url,callback:function(e){t.url=e},expression:"url"}})],1)],1),e("v-row",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.add}},[t._v(" Add ")])],1)],1)],1),e("v-form",{directives:[{name:"show",rawName:"v-show",value:"Jira"===t.repoType,expression:"repoType === 'Jira'"}]},[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{directives:[{name:"show",rawName:"v-show",value:""!==t.repoType,expression:"repoType !== ''"}],attrs:{label:t.repoType+" "+t.vTextLabel,required:""},model:{value:t.jiraData.URL,callback:function(e){t.$set(t.jiraData,"URL",e)},expression:"jiraData.URL"}})],1)],1),e("v-row",[e("v-col",[e("v-text-field",{attrs:{label:"Account"},model:{value:t.jiraData.account,callback:function(e){t.$set(t.jiraData,"account",e)},expression:"jiraData.account"}})],1),e("v-col",[e("v-text-field",{attrs:{label:"API token"},model:{value:t.jiraData.token,callback:function(e){t.$set(t.jiraData,"token",e)},expression:"jiraData.token"}})],1),e("v-col",{attrs:{width:"50%"}},[e("v-btn",{attrs:{color:"primary"},on:{click:t.verifyAndGetBoardInfo}},[t._v(" Verified ")])],1)],1),e("v-row",[e("v-col",[e("v-select",{directives:[{name:"show",rawName:"v-show",value:t.jiraVerifyState,expression:"jiraVerifyState"}],attrs:{label:"Select board",items:t.jiraData.boardList,"item-text":"name","item-value":"id"},model:{value:t.jiraData.selectBoardId,callback:function(e){t.$set(t.jiraData,"selectBoardId",e)},expression:"jiraData.selectBoardId"}})],1)],1),e("v-row",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.addJiraRepo}},[t._v(" Add ")])],1)],1)],1),e("v-form",{directives:[{name:"show",rawName:"v-show",value:"Sonarqube"===t.repoType,expression:"repoType === 'Sonarqube'"}]},[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"Sonarqube URL"},model:{value:t.sonarqubeUrl,callback:function(e){t.sonarqubeUrl=e},expression:"sonarqubeUrl"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{attrs:{label:"Account"},model:{value:t.sonarqubeAccount,callback:function(e){t.sonarqubeAccount=e},expression:"sonarqubeAccount"}})],1),e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{attrs:{label:"Password",type:"password"},model:{value:t.sonarqubePassword,callback:function(e){t.sonarqubePassword=e},expression:"sonarqubePassword"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{attrs:{label:"ProjectKey"},model:{value:t.projectKey,callback:function(e){t.projectKey=e},expression:"projectKey"}})],1)],1),e("v-row",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.add}},[t._v(" Add ")])],1)],1)],1),e("v-form",{directives:[{name:"show",rawName:"v-show",value:"Trello"===t.repoType,expression:"repoType === 'Trello'"}]},[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-text-field",{directives:[{name:"show",rawName:"v-show",value:""!==t.repoType,expression:"repoType !== ''"}],attrs:{label:"Trello Board Name",required:""},model:{value:t.trelloData.name,callback:function(e){t.$set(t.trelloData,"name",e)},expression:"trelloData.name"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"8"}},[e("v-text-field",{directives:[{name:"show",rawName:"v-show",value:""!==t.repoType,expression:"repoType !== ''"}],attrs:{label:"Trello Board Url",required:""},model:{value:t.trelloData.boardUrl,callback:function(e){t.$set(t.trelloData,"boardUrl",e)},expression:"trelloData.boardUrl"}})],1),e("v-col",{attrs:{cols:"4",width:"50%"}},[e("v-btn",{attrs:{color:"primary"},on:{click:t.verifyTrelloKeyToken}},[t._v(" Verified ")])],1)],1),e("v-row",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),e("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.trelloVerifyState,expression:"trelloVerifyState"}],attrs:{color:"blue darken-1",text:""},on:{click:t.addTrelloRepo}},[t._v(" Add ")])],1)],1)],1)],1)],1)],1)},tt=[];a("b7ef");const et=t=>S["a"].get(`${v}/repo/${t}`,{headers:{Authorization:"Bearer "+$s.auth.getToken}}),at=(t,e,a,s,r,i)=>S["a"].post(v+"/repo",{projectId:t,url:e,isSonarqube:a,sonarqubeUrl:s,accountColonPassword:r,projectKey:i},{headers:{Authorization:"Bearer "+$s.auth.getToken}}),st=(t,e,a,s,r)=>S["a"].post(v+"/jira/boardInfo",{DomainURL:t,APIToken:e,Account:a,BoardId:s,ProjectId:r},{headers:{Authorization:"Bearer "+$s.auth.getToken}}),rt=(t,e,a,s,r)=>S["a"].post(v+"/jira/createRepo",{DomainURL:t,APIToken:e,Account:a,BoardId:s,ProjectId:r},{headers:{Authorization:"Bearer "+$s.auth.getToken}}),it=(t,e)=>S["a"].post(v+"/trello/bind",{Key:t,Token:e},{headers:{Authorization:"Bearer "+$s.auth.getToken}}),ot=()=>S["a"].get(v+"/trello/clearTrelloBindInfo",{headers:{Authorization:"Bearer "+$s.auth.getToken}}),nt=()=>S["a"].get(v+"/trello/checkBind",{headers:{Authorization:"Bearer "+$s.auth.getToken}}),lt=(t,e,a)=>S["a"].post(v+"/trello/checkBoardUrl",{Name:t,BoardUrl:e,ProjectId:a},{headers:{Authorization:"Bearer "+$s.auth.getToken}}),ct=(t,e,a)=>S["a"].post(v+"/trello/createRepo",{Name:t,BoardUrl:e,ProjectId:a},{headers:{Authorization:"Bearer "+$s.auth.getToken}}),dt=(t,e)=>S["a"].delete(`${v}/repo/${t}/${e}`,{headers:{Authorization:"Bearer "+$s.auth.getToken}});var ut=s["default"].extend({props:["vCardTitle","vTextLabel"],data(){return{jiraData:{account:"",token:"",selectBoardId:null,URL:"",boardList:[]},trelloData:{boardUrl:"",name:""},isSonarqube:!1,url:"",sonarqubeUrl:"",sonarqubeAccount:"",sonarqubePassword:"",projectKey:"",dialog:!1,userAccounts:[],repoType:"",jiraVerifyState:!1,trelloVerifyState:!1,projectId:this.$route.params.projectId}},watch:{isSonarqube:function(){this.sonarqubeUrl="",this.sonarqubeAccount="",this.sonarqubePassword="",this.projectKey=""}},methods:{add(){const t=btoa(this.sonarqubeAccount+":"+this.sonarqubePassword);this.$emit("add",this.url,this.isSonarqube,this.sonarqubeUrl,t,this.projectKey),this.dialog=!1},clearInputData(){this.url="",this.sonarqubeUrl="",this.sonarqubeAccount="",this.sonarqubePassword="",this.projectKey="",this.isSonarqube=!1,this.repoType="",this.jiraData.account="",this.jiraData.token="",this.jiraData.selectBoardId=null,this.jiraData.URL="",this.jiraData.boardList=[],this.jiraVerifyState=!1,this.trelloData.boardUrl="",this.trelloData.name="",this.trelloVerifyState=!1},isShow(){return!this.vCardTitle.includes("Project")},async verifyAndGetBoardInfo(){const t=await st(this.jiraData.URL,this.jiraData.token,this.jiraData.account,void 0,void 0);t.data.success?(this.jiraVerifyState=!0,this.jiraData.boardList=t.data.data):(this.jiraVerifyState=!1,this.jiraData.boardList=[],this.jiraData.selectBoardId=null)},async addJiraRepo(){const t=await rt(this.jiraData.URL,this.jiraData.token,this.jiraData.account,this.jiraData.selectBoardId,this.projectId);this.$emit("showSnackBar",t.data.success),this.dialog=!1},async addTrelloRepo(){const t=await ct(this.trelloData.name,this.trelloData.boardUrl,this.projectId);this.$emit("showSnackBar",t.data.success),this.dialog=!1},async verifyTrelloKeyToken(){const t=await nt();if(t.data.success){this.trelloVerifyState=!1;const t=await lt(this.trelloData.name,this.trelloData.boardUrl,this.projectId);t.data.success?this.trelloVerifyState=!0:(this.$emit("msgSnackBar",!1,"BoardUrl does not match the trello information bound by the user"),this.dialog=!1)}else this.trelloVerifyState=!1,this.$emit("msgSnackBar",!1,"Need To Bind Your Key & Token Of Trello First!"),this.dialog=!1}}}),ht=ut,pt=Object(x["a"])(ht,X,tt,!1,null,null,null),vt=pt.exports,mt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-text-field",{staticClass:"align-self-end",attrs:{id:"table-search-card","prepend-inner-icon":"mdi-magnify",label:t.vTextLabel,"hide-details":"",clearable:"",outlined:"",dense:"",solo:""},on:{input:t.ChangeInput},model:{value:t.searchedName,callback:function(e){t.searchedName=e},expression:"searchedName"}})},bt=[],ft=s["default"].extend({props:["vTextLabel"],data(){return{searchedName:""}},methods:{ChangeInput(){this.$emit("ChangeInput",this.searchedName)}}}),gt=ft,xt=Object(x["a"])(gt,mt,bt,!1,null,null,null),yt=xt.exports;const kt=()=>S["a"].get(v+"/user",{headers:{Authorization:"Bearer "+$s.auth.getToken}}),_t=t=>S["a"].post(v+"/user/edit",{Name:t},{headers:{"Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+$s.auth.getToken}}).then(t=>t),wt=t=>S["a"].get(`${v}/invitation/checkowner/${t}`,{headers:{Authorization:"Bearer "+$s.auth.getToken}}),It=()=>S["a"].get(v+"/user/admin",{headers:{Authorization:"Bearer "+$s.auth.getToken}}),jt=t=>S["a"].delete(`${v}/user/?account=${t}`,{headers:{Authorization:"Bearer "+$s.auth.getToken}}),Ct=(t,e)=>S["a"].patch(`${v}/user/${t}`,e,{headers:{Authorization:"Bearer "+$s.auth.getToken}});var Dt=a("1344"),Tt=Object(Dt["a"])(),At=s["default"].extend({components:{UserInfo:Y,DataTable:Q,NewItem:vt,TableSearch:yt},data(){return{dialog:!1,searchedName:"",projects:[],msg:"",snackBar:!1,snackBarTimeout:3e3,snackBarColor:"",user:{type:Object,id:"",name:"",avatarUrl:""}}},async created(){this.updateProject(),this.user=(await kt())["data"],Tt.on("updateProject",this.updateProject)},methods:{async updateProject(){this.projects=(await B())["data"]},async saveUserName(t){const e=await _t(t);this.msg=e["data"].message,this.snackBar=!0,this.snackBarColor=e["data"].success?"green":"red",this.user.name="",this.user.name=(await kt())["data"].name},async addproject(t){const e=await M(t);this.msg=e["data"].message,this.dialog=!1,this.snackBar=!0,this.snackBarColor=e["data"].success?"green":"red",this.projects=(await B(this.user.id))["data"]},ChangeInput(t){this.searchedName=t},async removeProject(t,e){const a=await O(t,e);this.msg=a["data"].message,this.dialog=!1,this.snackBar=!0,this.snackBarColor=a["data"].success?"green":"red",this.projects=(await B(this.user.id))["data"]}}}),St=At,Bt=(a("2eb2"),Object(x["a"])(St,T,A,!1,null,null,null)),Nt=Bt.exports,Pt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-container",{staticClass:"container-background-color",attrs:{fluid:"","fill-height":""}},[e("v-row",{staticClass:"d-flex justify-center"},[e("v-col",{attrs:{lg:"2"}},[e("UserInfo",{attrs:{name:t.user.name,avatarUrl:t.user.avatarUrl}})],1),e("v-col",{attrs:{lg:"6"}},[e("v-row",[e("v-col",{staticStyle:{"text-align":"left"}},[e("v-edit-dialog",{attrs:{"return-value":t.projectName},on:{save:t.save,"update:returnValue":function(e){t.projectName=e},"update:return-value":function(e){t.projectName=e}},scopedSlots:t._u([{key:"input",fn:function(){return[e("v-text-field",{attrs:{label:"Edit Name"},model:{value:t.projectName,callback:function(e){t.projectName=e},expression:"projectName"}})]},proxy:!0}])},[e("div",{staticClass:"text-h3"},[t._v(t._s(t.projectName))])])],1)],1),e("v-row",[t.isOwner?e("v-col",{staticClass:"d-flex align-begin pt-1",attrs:{lg:"1"}},[e("InviteUser",{attrs:{vCardTitle:"Invite User",vTextLabel:"User Name",userInfo:t.userAccounts},on:{clickInvitation:function(e){return t.clickInvatation(e)},invite:function(e){return t.send(e)}}})],1):t._e(),e("v-col",{staticClass:"d-flex align-begin pt-1",attrs:{lg:"1"}},[e("ProjectMemberTable",{attrs:{projectOwnerId:t.projectOwnerId,projectOwnerName:t.projectOwnerName,projectId:t.projectId,currentUserId:t.user.id,tableData:t.projectMember},on:{deleteProjectMember:t.getProjectMemberWithutOwner}})],1),e("v-col",{staticClass:"d-flex align-begin pt-1",attrs:{lg:"1"}},[e("BindTrello",{on:{msgSnackBar:t.msgSnackBar}})],1)],1),e("v-divider"),e("v-row",[e("v-col",[e("v-data-table",{attrs:{headers:t.headers,items:t.repositories,search:t.search,"fixed-header":"","hide-default-footer":"","hide-default-header":""},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-row",{staticClass:"d-flex justify-space-around"},[e("v-col",{staticClass:"pl-5"},[e("TableSearch",{attrs:{vTextLabel:"Find a Repo..."},on:{ChangeInput:function(e){return t.ChangeInput(e)}}})],1),e("v-col",{staticClass:"d-flex justify-end align-end pr-5"},[e("NewItem",{attrs:{vCardTitle:"Add Repository",vTextLabel:"Repository URL"},on:{add:t.add,showSnackBar:t.showSnackBar,msgSnackBar:t.msgSnackBar}})],1)],1),e("v-divider"),e("v-dialog",{attrs:{"max-width":"30%"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete?")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.deleteCancel()}}},[t._v("Cancel")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.deleteConfirm()}}},[t._v("OK")]),e("v-spacer")],1)],1)],1)]},proxy:!0},{key:"item.name",fn:function({item:s}){return[e("img",{attrs:{src:a("1b4e")}}),e("a",{staticClass:"py-2",on:{click:function(e){return t.goToRepoInfo(s.id,s.type,s.boardId)}}},[t._v(" "+t._s(s.name)+" ")])]}},{key:"item.action",fn:function({item:a}){return[e("div",{staticClass:"d-flex justify-end align-end"},[e("v-icon",{on:{click:function(e){return t.deleteRepo(a.id)}}},[t._v(" mdi-delete ")])],1)]}}],null,!0)})],1)],1)],1),e("v-snackbar",{attrs:{timeout:t.snackBarTimeout,color:t.snackBarColor},model:{value:t.snackBar,callback:function(e){t.snackBar=e},expression:"snackBar"}},[t._v(" "+t._s(t.msg)+" ")])],1)],1)},Ot=[],Rt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-dialog",{attrs:{"max-width":"60%"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-btn",t._g(t._b({attrs:{color:"success"},on:{click:t.clearInputData}},"v-btn",s,!1),a),[e("v-icon",[t._v("mdi-trello")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline"},[t._v("Bind Trello")])]),e("v-card-text",[e("v-container",[e("v-row",{attrs:{justify:"start"}},[e("v-col",{attrs:{cols:"1",justify:"start"}},[e("div",{staticClass:"text"},[t._v("Bind Status")]),t.trelloBindStatus?e("v-icon",{attrs:{color:"green darken-1"}},[t._v("mdi-check-circle")]):e("v-icon",{attrs:{color:"red darken-1"}},[t._v("mdi-alpha-x-circle")])],1)],1),e("v-row",[e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{attrs:{label:"Trello Key"},model:{value:t.trelloData.key,callback:function(e){t.$set(t.trelloData,"key",e)},expression:"trelloData.key"}})],1),e("v-col",{attrs:{cols:"6"}},[e("v-text-field",{attrs:{label:"Trello Token"},model:{value:t.trelloData.token,callback:function(e){t.$set(t.trelloData,"token",e)},expression:"trelloData.token"}})],1)],1),e("v-row",[e("v-col",{attrs:{cols:"1",width:"50%"}},[e("v-btn",{attrs:{color:"primary"},on:{click:t.clearTrelloInfo}},[t._v(" Clear Existed ")])],1),e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" Cancel ")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.bindTrelloInfo}},[t._v(" Add ")])],1)],1)],1)],1)],1)},Mt=[],Ut=s["default"].extend({props:[],data(){return{trelloData:{key:"",token:""},dialog:!1,trelloBindStatus:!1}},watch:{},mounted(){this.checkBindStatus()},methods:{clearInputData(){this.trelloData.key="",this.trelloData.token=""},async checkBindStatus(){const t=await nt();t.data.success?this.trelloBindStatus=!0:this.trelloBindStatus=!1},async bindTrelloInfo(){const t=await it(this.trelloData.key,this.trelloData.token);t.data.success?(this.$emit("msgSnackBar",!0,"Bind Success!"),this.dialog=!1):(this.$emit("msgSnackBar",!1,"Bind Fail!"),this.dialog=!1),this.checkBindStatus()},async clearTrelloInfo(){const t=await ot();t.data.success?(this.$emit("msgSnackBar",!0,"Clear Success!"),this.dialog=!1):(this.$emit("msgSnackBar",!1,"Clear Fail!"),this.dialog=!1),this.checkBindStatus()}}}),Lt=Ut,Et=Object(x["a"])(Lt,Rt,Mt,!1,null,null,null),$t=Et.exports,zt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-dialog",{attrs:{"max-width":"60%"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-btn",t._g(t._b({attrs:{color:"success"},on:{click:t.clearInputData}},"v-btn",s,!1),a),[e("v-icon",[t._v("mdi-account-multiple-plus-outline")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline"},[t._v(t._s(t.vCardTitle))])]),e("v-card-text",[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12"}},[e("v-autocomplete",{attrs:{items:t.userInfo,color:"white","item-text":"name","item-value":"id",label:"User Name"},scopedSlots:t._u([{key:"selection",fn:function(a){return[e("v-avatar",{attrs:{left:""}},[e("v-img",{attrs:{src:a.item.avatarUrl}})],1),e("v-sheet",{staticClass:"ml-4"},[t._v(" "+t._s(a.item.name)+" ")])]}},{key:"item",fn:function(a){return["object"!==typeof a.item?[e("v-list-item-content",{domProps:{textContent:t._s(a.item)}})]:[e("v-list-item-avatar",[e("img",{attrs:{src:a.item.avatarUrl}})]),e("v-list-item-content",[e("v-list-item-title",{domProps:{innerHTML:t._s(a.item.name)}})],1)]]}}]),model:{value:t.inputData,callback:function(e){t.inputData=e},expression:"inputData"}})],1)],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){t.dialog=!1}}},[t._v(" CANCEL ")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.add}},[t._v(" INVITE ")])],1)],1)],1)},qt=[],Ft=s["default"].extend({props:["vCardTitle","vTextLabel","userInfo"],data(){return{inputData:"",dialog:!1}},methods:{add(){this.$emit("invite",this.inputData),this.dialog=!1},clearInputData(){this.$emit("clickInvitation",this.inputData),this.inputData=""}}}),Jt=Ft,Wt=Object(x["a"])(Jt,zt,qt,!1,null,null,null),Yt=Wt.exports,Zt=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-dialog",{attrs:{"max-width":"30%"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-btn",t._g(t._b({attrs:{color:"success"}},"v-btn",s,!1),a),[e("v-icon",[t._v("mdi-account-multiple")])],1)]}}]),model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-dialog",{attrs:{"max-width":"30%"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete?")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDialogDelete}},[t._v("Cancel")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(e){return t.deleteProjectMember()}}},[t._v("Delete")]),e("v-spacer")],1)],1)],1),e("v-card",[e("v-card-title",[e("span",{staticClass:"headline"},[t._v("Project Member")])]),e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.tableData},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-toolbar",{attrs:{flat:""}},[e("v-toolbar-title",[t._v("Owner: "+t._s(t.projectOwnerName))])],1)]},proxy:!0},t.isProjectOwner(t.currentUserId)?{key:"item.actions",fn:function({item:a}){return[e("v-icon",{attrs:{small:"",disabled:!t.isProjectOwner(t.currentUserId)},on:{click:function(e){return t.showRemoveProjectMemberDialog(a.id)}}},[t._v(" mdi-delete ")])]}}:null],null,!0)})],1),e("v-snackbar",{attrs:{timeout:t.snackBarTimeout,color:t.snackBarColor},model:{value:t.snackBar,callback:function(e){t.snackBar=e},expression:"snackBar"}},[t._v(" "+t._s(t.msg)+" ")])],1)},Vt=[],Gt=s["default"].extend({props:["projectOwnerId","projectOwnerName","projectId","currentUserId","tableData"],data(){return{dialog:!1,dialogDelete:!1,deletedUserId:"",snackBar:!1,snackBarTimeout:3e3,snackBarColor:"",msg:"",headers:[{text:"Name",value:"name"},{text:"Actions",value:"actions"}]}},methods:{async deleteProjectMember(){const t=(await R(this.projectId,this.deletedUserId))["data"];this.closeDialogDelete(),this.msg=t.message,this.snackBar=!0,this.snackBarColor=t.success?"green":"red",this.$emit("deleteProjectMember")},showRemoveProjectMemberDialog(t){this.dialogDelete=!0,this.deletedUserId=t},closeDialogDelete(){this.dialogDelete=!1,this.deletedUserId=""},isProjectOwner(t){return t==this.projectOwnerId}}}),Ht=Gt,Kt=Object(x["a"])(Ht,Zt,Vt,!1,null,null,null),Qt=Kt.exports;const Xt=()=>S["a"].get(v+"/invitation",{headers:{Authorization:"Bearer "+$s.auth.getToken}}),te=t=>S["a"].post(v+"/invitation/users",{ApplicantId:0,ProjectId:t},{headers:{Authorization:"Bearer "+$s.auth.getToken,"Content-Type":"application/json; charset=UTF-8"}}),ee=(t,e)=>S["a"].post(v+"/invitation/sendinvitation",{ApplicantId:t,ProjectId:e},{headers:{Authorization:"Bearer "+$s.auth.getToken,"Content-Type":"application/json; charset=UTF-8"}}),ae=(t,e)=>S["a"].post(v+"/invitation/reply",{InvitationId:t,IsAgreed:e},{headers:{Authorization:"Bearer "+$s.auth.getToken,"Content-Type":"application/json; charset=UTF-8"}});var se=s["default"].extend({components:{UserInfo:Y,NewItem:vt,BindTrello:$t,TableSearch:yt,InviteUser:Yt,ProjectMemberTable:Qt},data(){return{search:"",headers:[{text:"RepositoryName",value:"name"},{text:"action",value:"action"}],user:{type:Object,id:""},repositories:[{type:Object,id:"",name:"",test:""}],dialog:!1,projectId:this.$route.params.projectId,projectName:"",projectOwnerId:"",projectOwnerName:"",projectMember:[{type:Object,id:"",name:"",avatarUrl:""}],url:"",msg:"",snackBar:!1,snackBarTimeout:5e3,snackBarColor:"",isOwner:!1,userAccounts:[],searchbarLength:7,dialogDelete:!1,wantToDeleteRepoId:-1}},async created(){this.user=(await kt())["data"],this.repositories=(await et(this.projectId))["data"],this.isOwner=(await wt(this.projectId))["data"].success,await this.getProjectInfo(),await this.getProjectMemberWithutOwner(),this.isOwner||(this.searchbarLength=10)},methods:{async getProjectMemberWithutOwner(){const t=await P(Number(this.projectId));this.projectMember=t["data"],this.projectMember=this.projectMember.filter(t=>t.id!=this.projectOwnerId)},async goToRepoInfo(t,e,a){"Jira"===e?this.$router.push({name:"JiraInfo",params:{repoId:t}}):"Trello"==e?this.$router.push({name:"Trello",params:{boardId:a}}):this.$router.push({name:"RepoInfo",params:{repoId:t}})},async save(){const t=await U(Number(this.projectId),this.projectName);this.msg=t["data"].message,this.snackBar=!0,this.snackBarColor=t["data"].success?"green":"red",await this.getProjectName()},async add(t,e,a,s,r){const i=await at(Number(this.projectId),t,e,a,s,r);this.msg=i["data"].message,this.dialog=!1,this.snackBar=!0,this.snackBarColor=i["data"].success?"green":"red",await this.getResitories()},async showSnackBar(t){this.msg=t?"Add success!":"Add fail!",this.snackBar=!0,this.snackBarColor=t?"green":"red",await this.getResitories()},async msgSnackBar(t,e){this.msg=e,this.snackBar=!0,this.snackBarColor=t?"green":"red",await this.getResitories()},async getResitories(){this.repositories=(await et(this.projectId))["data"]},async getProjectName(){this.projectName=(await N(Number(this.projectId)))["data"].name},async getProjectInfo(){const t=(await N(Number(this.projectId)))["data"];this.projectOwnerId=t.ownerId,this.projectOwnerName=t.ownerName,this.projectName=t.name},ChangeInput(t){this.search=t},deleteRepo(t){this.dialogDelete=!0,this.wantToDeleteRepoId=t},async deleteConfirm(){const t=await dt(this.projectId,this.wantToDeleteRepoId);this.dialogDelete=!1,this.wantToDeleteRepoId=-1,this.msg=t["data"].message,this.snackBar=!0,this.snackBarColor=t["data"].success?"green":"red",await this.getResitories()},deleteCancel(){this.dialogDelete=!1,this.wantToDeleteRepoId=-1},async send(t){const e=await ee(t,Number(this.projectId));this.dialog=!1,this.msg=e["data"].message,this.snackBar=!0,this.snackBarColor=e["data"].success?"green":"red"},async clickInvatation(t){te(Number(this.projectId)).then(t=>{this.userAccounts=t.data})}}}),re=se,ie=Object(x["a"])(re,Pt,Ot,!1,null,null,null),oe=ie.exports,ne=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-container",{staticClass:"align-center justify-center",attrs:{"fill-height":"",fluid:""}},[e("v-progress-circular",{attrs:{size:50,color:"primary",indeterminate:""}})],1)},le=[],ce=s["default"].extend({mounted:()=>{const t=Ns.currentRoute.query,e=t.code.toString();$s.auth.login(e)}}),de=ce,ue=Object(x["a"])(de,ne,le,!1,null,null,null),he=ue.exports,pe=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-container",{staticClass:"justify-center mt-10",staticStyle:{width:"70%"},attrs:{"fill-height":""}},[e("RepoInfoCompareForm",{on:{change:t.changeCompareRepo}}),e("v-tabs",{attrs:{"background-color":"transparent",color:"basil",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab",{directives:[{name:"show",rawName:"v-show",value:!t.isCompare,expression:"!isCompare"}]},[t._v("Issus")]),e("v-tab",[t._v("Commit")]),e("v-tab",{directives:[{name:"show",rawName:"v-show",value:!t.isCompare,expression:"!isCompare"}]},[t._v("Contributor")]),e("v-tab",[t._v("Code base")]),e("v-tab",{directives:[{name:"show",rawName:"v-show",value:!t.isCompare&&t.isHaveSonarqube,expression:"!isCompare && isHaveSonarqube"}]},[t._v("Sonarqube")])],1),e("v-tabs-items",{staticClass:"tab-item",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab-item",[e("IssuesTable",{directives:[{name:"show",rawName:"v-show",value:!t.isCompare,expression:"!isCompare"}],attrs:{repoId:t.repoId}})],1),e("v-tab-item",[e("CommitChart",{attrs:{repoId:t.repoId,compareRepoId:t.compareRepoId}})],1),e("v-tab-item",[e("ContributeChart",{directives:[{name:"show",rawName:"v-show",value:!t.isCompare,expression:"!isCompare"}],attrs:{repoId:t.repoId}})],1),e("v-tab-item",[e("CodebaseChart",{attrs:{repoId:t.repoId,compareRepoId:t.compareRepoId}})],1),e("v-tab-item",[e("Sonarqube",{directives:[{name:"show",rawName:"v-show",value:t.isHaveSonarqube,expression:"isHaveSonarqube"}],attrs:{repoId:t.repoId}})],1),e("v-tab-item")],1)],1)},ve=[],me=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("ve-histogram",{attrs:{data:t.weekTotalData,events:t.chartEvents,settings:t.chartSetting}}),t.isCompare?t._e():e("p",[t._v("selected-week："+t._s(t.selectedWeek))]),t.isCompare?t._e():e("ve-line",{attrs:{data:t.commitData}}),t.isCompare?e("ve-histogram",{attrs:{data:t.compareWeekTotalData,settings:t.chartSetting}}):t._e()],1)},be=[];const fe=t=>S["a"].get(`${v}/repoInfo/commit/${t}`,{headers:{Authorization:"Bearer "+$s.auth.getToken}}),ge=t=>S["a"].get(`${v}/repoInfo/codebase/${t}`,{headers:{Authorization:"Bearer "+$s.auth.getToken}}),xe=t=>S["a"].get(`${v}/repoInfo/contribute/${t}`,{headers:{Authorization:"Bearer "+$s.auth.getToken}}),ye=t=>S["a"].get(`${v}/repoInfo/issue/${t}`,{headers:{Authorization:"Bearer "+$s.auth.getToken}}),ke=t=>S["a"].get(`${v}/repoInfo/sonarqube/${t}`,{headers:{Authorization:"Bearer "+$s.auth.getToken}}),_e=t=>S["a"].get(`${v}/repoInfo/ishavesonarqube/${t}`,{headers:{Authorization:"Bearer "+$s.auth.getToken}}),we=t=>S["a"].get(`${v}/repoInfo/sonarqube/codesmell/${t}`,{headers:{Authorization:"Bearer "+$s.auth.getToken}}),Ie=()=>({weekTotalData:{},compareWeekTotalData:{},dayOfWeekData:[],commitData:{},selectedWeek:"",chartSetting:{selectedMode:"single"}});var je=s["default"].extend({props:{repoId:Number,compareRepoId:Number},watch:{compareRepoId:function(t){this.getCompareCommitInfoData()}},data:function(){return Ie()},mounted(){this.getCommitInfoData(this.repoId).then(t=>{this.weekTotalData=t.weekTotalData,this.dayOfWeekData=t.dayOfWeekData,this.selectedWeek=t.weekTotalData.rows[t.weekTotalData.rows.length-1].week,this.setCommitData()}),this.getCompareCommitInfoData()},computed:{chartEvents(){return{click:t=>{this.clickChartEvent(t)}}},isCompare(){return null!=this.compareRepoId}},methods:{getCommitInfoData(t){return fe(t).then(t=>{const e=t.data;return{weekTotalData:{columns:["week","total"],rows:e.weekTotalData},dayOfWeekData:e.dayOfWeekData}}).catch(t=>{Ns.push("/notfound")})},getCompareCommitInfoData(){this.isCompare&&this.getCommitInfoData(this.compareRepoId).then(t=>{this.compareWeekTotalData=t.weekTotalData})},setCommitData(){this.commitData={columns:["day","commit"],rows:this.getCommitRowsData()}},clickChartEvent(t){this.selectedWeek=t.name,this.setCommitData()},getCommitRowsData(){let t=[];return this.dayOfWeekData.forEach(e=>{e.week===this.selectedWeek&&(t=e.detailDatas)}),t}}}),Ce=je,De=Object(x["a"])(Ce,me,be,!1,null,null,null),Te=De.exports,Ae=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("ve-line",{attrs:{data:t.chartData,settings:t.chartSettings}}),t.isCompare?e("ve-line",{attrs:{data:t.compareChartData,settings:t.chartSettings}}):t._e()],1)},Se=[],Be=s["default"].extend({props:{repoId:Number,compareRepoId:Number},data(){return{chartSettings:{area:!0},chartData:{columns:["date","numberOfRows","numberOfRowsAdded","numberOfRowsDeleted"],rows:[]},compareChartData:{columns:["date","numberOfRows","numberOfRowsAdded","numberOfRowsDeleted"],rows:[]}}},watch:{compareRepoId:function(t){this.getCodebaseData(this.compareRepoId).then(t=>{this.compareChartData.rows=t})}},mounted(){this.getCodebaseData(this.repoId).then(t=>{this.chartData.rows=t}),this.isCompare&&this.getCodebaseData(this.compareRepoId).then(t=>{this.compareChartData.rows=t})},computed:{isCompare(){return null!=this.compareRepoId}},methods:{getCodebaseData(t){return ge(t).then(t=>t.data)}}}),Ne=Be,Pe=Object(x["a"])(Ne,Ae,Se,!1,null,null,null),Oe=Pe.exports,Re=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-container",[e("v-row",{staticClass:"d-flex justify-end"},["line"!=t.selected.chart?e("v-col",{staticClass:"px-1",attrs:{cols:"3"}},[e("span",{staticClass:"font-weight-bold btn_label"},[t._v("Filter:")]),e("v-menu",{attrs:{"offset-y":"",transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-btn",t._g(t._b({attrs:{color:"primary",dark:"",width:"150"}},"v-btn",s,!1),a),[t._v(" "+t._s(t.selected.filter)+" ")])]}}],null,!1,2665526156)},[e("v-list",[t._l(t.filterActivities,(function(a){return[e("v-list-item",{key:a.name,staticClass:"pa-0",attrs:{link:""}},[e("v-list-item-content",{staticClass:"pa-0"},[e("v-btn",{staticClass:"pa-0",attrs:{color:"white"},on:{click:function(e){return t.changeFilterType(a)}}},[t._v(" "+t._s(a.name)+" ")])],1)],1)]}))],2)],1)],1):t._e(),e("v-col",{staticClass:"px-1",attrs:{cols:"3"}},[e("span",{staticClass:"font-weight-bold btn_label"},[t._v("Chart:")]),e("v-menu",{attrs:{"offset-y":"",transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-btn",t._g(t._b({attrs:{color:"primary",dark:"",width:"150"}},"v-btn",s,!1),a),[t._v(" "+t._s(t.selected.chart)+" ")])]}}])},[e("v-list",[t._l(t.chartActivities,(function(a){return[e("v-list-item",{key:a.name,staticClass:"pa-0",attrs:{link:""}},[e("v-list-item-content",{staticClass:"pa-0"},[e("v-btn",{staticClass:"pa-0",attrs:{color:"white"},on:{click:function(e){return t.changeChartType(a)}}},[t._v(" "+t._s(a.name)+" ")])],1)],1)]}))],2)],1)],1),e("v-col",{staticClass:"px-1",attrs:{cols:"3"}},[e("span",{staticClass:"font-weight-bold btn_label"},[t._v("Info:")]),e("v-menu",{attrs:{"offset-y":"",transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-btn",t._g(t._b({attrs:{color:"primary",dark:"",width:"150"}},"v-btn",s,!1),a),[t._v(" "+t._s(t.selected.info)+" ")])]}}])},[e("v-list",[t._l(t.infoActivities,(function(a){return[e("v-list-item",{key:a.name,staticClass:"pa-0",attrs:{link:""}},[e("v-list-item-content",{staticClass:"pa-0"},[e("v-btn",{staticClass:"pa-0",attrs:{color:"white"},on:{click:function(e){return t.changeInfoType(a)}}},[t._v(" "+t._s(a.name)+" ")])],1)],1)]}))],2)],1)],1)],1),"selected"==t.selected.filter&&"line"!=t.selected.chart?e("v-row",{staticClass:"d-flex justify-end"},[e("v-autocomplete",{attrs:{items:t.data,"item-text":"author.login","item-value":"author.login",placeholder:"Select a contributor",clearable:"",multiple:"",filled:"",dense:"","return-object":"","search-input":t.searchInput},on:{change:t.updateOverallData,input:function(e){t.searchInput=null},"update:searchInput":function(e){t.searchInput=e},"update:search-input":function(e){t.searchInput=e}},scopedSlots:t._u([{key:"selection",fn:function({index:a}){return[0==a?e("div",[t._v(" "+t._s(t.selectedMembers.length)+" members selected   ")]):t._e()]}},{key:"item",fn:function({item:a,attrs:s,on:r}){return[e("v-list-item",t._g(t._b({scopedSlots:t._u([{key:"default",fn:function({active:s}){return[e("v-list-item-action",[e("v-checkbox",{attrs:{"input-value":s}})],1),e("v-list-item-avatar",[e("img",{attrs:{src:a.author.avatar_url}})]),e("v-list-item-content",[e("v-list-item-title",{staticStyle:{"font-size":"15px"}},[t._v(" "+t._s(a.author.login)+" ")])],1),e("v-list-item-icon",[e("v-chip",{attrs:{"text-color":"white",color:t.chipColor}},[t._v(" rank: "+t._s(a[t.selected.rankingType])+" ")])],1)]}}],null,!0)},"v-list-item",s,!1),r))]}}],null,!1,2633560228),model:{value:t.selectedMembers,callback:function(e){t.selectedMembers=e},expression:"selectedMembers"}})],1):t._e(),"line"!=t.selected.chart?e("v-row",{staticClass:"d-flex justify-end"},[e("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"6"}},[e("v-menu",{ref:"startDateMenu",attrs:{"close-on-content-click":!1,"return-value":t.startDate,transition:"scale-transition","offset-y":"","max-width":"320px","min-width":"auto"},on:{"update:returnValue":function(e){t.startDate=e},"update:return-value":function(e){t.startDate=e}},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-text-field",t._g(t._b({attrs:{label:"Start date(month)","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},"v-text-field",s,!1),a))]}}],null,!1,4025555879),model:{value:t.startDateMenu,callback:function(e){t.startDateMenu=e},expression:"startDateMenu"}},[e("v-date-picker",{attrs:{type:"month","no-title":"",scrollable:""},model:{value:t.startDate,callback:function(e){t.startDate=e},expression:"startDate"}},[e("v-spacer"),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.startDateMenu=!1}}},[t._v(" Cancel ")]),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.changeDataTimeRange(),t.$refs.startDateMenu.save(t.startDate)}}},[t._v(" OK ")])],1)],1)],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"6"}},[e("v-menu",{ref:"endDateMenu",attrs:{"close-on-content-click":!1,"return-value":t.endDate,transition:"scale-transition","offset-y":"","max-width":"320px","min-width":"auto"},on:{"update:returnValue":function(e){t.endDate=e},"update:return-value":function(e){t.endDate=e}},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-text-field",t._g(t._b({attrs:{label:"End date(month)","prepend-icon":"mdi-calendar",readonly:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}},"v-text-field",s,!1),a))]}}],null,!1,3125225223),model:{value:t.endDateMenu,callback:function(e){t.endDateMenu=e},expression:"endDateMenu"}},[e("v-date-picker",{attrs:{type:"month","no-title":"",scrollable:""},model:{value:t.endDate,callback:function(e){t.endDate=e},expression:"endDate"}},[e("v-spacer"),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.endDateMenu=!1}}},[t._v(" Cancel ")]),e("v-btn",{attrs:{text:"",color:"primary"},on:{click:function(e){t.changeDataTimeRange(),t.$refs.endDateMenu.save(t.endDate)}}},[t._v(" OK ")])],1)],1)],1)],1):t._e(),e("v-divider",{staticClass:"mb-10"}),"line"==t.selected.chart?e("v-row",[t._l(t.data,(function(a,s){return[e("v-col",{key:s,staticClass:"d-flex justify-center",attrs:{lg:"4"}},[e("v-card",{key:s,staticClass:"my-2",attrs:{width:"450",height:"380"}},[e("v-card-title",{staticClass:"mb-1"},[e("v-avatar",{attrs:{size:"60"}},[e("img",{attrs:{alt:"user",src:a.author.avatar_url}})]),e("div",{staticClass:"justify-space-around"},[e("v-card-subtitle",{staticClass:"text-left py-0"},[e("a",{staticClass:"text-subtitle-1 font-weight-regular",attrs:{target:"aboutblank",href:a.author.html_url}},[t._v(" "+t._s(a.author.login)+" ")])]),e("div",{staticClass:"d-flex justify-space-around"},[e("v-card-subtitle",{staticClass:"text-left py-0"},[e("a",{staticClass:"grey--text",attrs:{target:"aboutblank",href:a.commitsHtmlUrl}},[t._v(" commits "+t._s(a.total)+" ")])]),e("v-card-subtitle",{staticClass:"text-left py-0 green--text"},[t._v(" "+t._s(a.totalAdditions)+" ++ ")]),e("v-card-subtitle",{staticClass:"text-left py-0 red--text"},[t._v(" "+t._s(a.totalDeletions)+" -- ")])],1)],1)],1),e("v-divider",{staticClass:"mx-4"}),e("ve-line",{attrs:{height:"300px","legend-visible":!1,extend:t.lineChartExtend,data:t.personalData[s],settings:t.lineChartSettings,colors:["#fb8532"]}})],1)],1)]}))],2):t._e(),"pie"==t.selected.chart?e("ve-pie",{attrs:{height:"600px",data:t.overallData,settings:t.pieChartSettings}}):t._e(),"bar"==t.selected.chart?e("ve-histogram",{attrs:{data:t.overallData,extend:t.barChartExtend,settings:t.barChartSettings}}):t._e()],1)},Me=[],Ue=(a("13d5"),s["default"].extend({props:{repoId:Number},data(){return{data:[],personalData:[],overallData:{columns:["author","commit"],rows:[]},selected:{info:"commit",chart:"line",filter:"all",rankingType:"commitRank"},infoActivities:[{mode:"c",name:"commit",lineYAxisMax:0,barYAxisName:"time(s)",color:"#fb8532"},{mode:"a",name:"additions",lineYAxisMax:0,barYAxisName:"line(s)",color:"#20cc20"},{mode:"d",name:"deletions",lineYAxisMax:0,barYAxisName:"line(s)",color:"#ff5050"}],chartActivities:[{name:"line"},{name:"pie"},{name:"bar"}],filterActivities:[{name:"all"},{name:"top 5"},{name:"top 10"},{name:"selected"}],lineChartSettings:{labelMap:{ws:"day",c:"commits",a:"additions",d:"deletions"},dimension:["ws"],area:!0},pieChartSettings:{radius:160,offsetY:300},barChartSettings:{dataOrder:{label:"commits",order:"asc"},yAxisName:["time(s)",""]},lineChartExtend:{yAxis:{max:40}},barChartExtend:{xAxis:{axisLabel:{margin:12,rotate:30}},series:{itemStyle:{color:"#fb8532"}}},selectedMembers:[],chipColor:"#fb8532",startDate:"",endDate:"",startDateMenu:!1,endDateMenu:!1,searchInput:null}},methods:{pushToOverallData(t){this.overallData.rows.push({author:t.author.login,commit:t.subTotal,additions:t.subTotalAdditions,deletions:t.subTotalDeletions})},updateOverallDataBySelected(){this.overallData.rows=[],this.selectedMembers.forEach(t=>this.pushToOverallData(t))},updateOverallDataByRanking(t){this.selectedMembers=this.data.filter(e=>e[this.selected.rankingType]<=t),this.updateOverallDataBySelected()},updateOverallData(){"all"==this.selected.filter?(this.selectedMembers=[...this.data],this.updateOverallDataBySelected()):"top 5"==this.selected.filter?this.updateOverallDataByRanking(5):"top 10"==this.selected.filter?this.updateOverallDataByRanking(10):"selected"==this.selected.filter&&this.updateOverallDataBySelected(),this.barChartSettings.dataOrder.label=this.selected.info},getRankings(t){const e=[...t].sort((t,e)=>e-t);return t.map(t=>e.indexOf(t)+1)},changeDataRankings(){const t=this.getRankings(this.data.map(t=>t.subTotal)),e=this.getRankings(this.data.map(t=>t.subTotalAdditions)),a=this.getRankings(this.data.map(t=>t.subTotalDeletions));this.data.forEach((s,r)=>{s.commitRank=t[r],s.additionsRank=e[r],s.deletionsRank=a[r]})},changeDataTimeRange(){let t=new Date(this.startDate);const e=new Date(this.endDate);let a,s;t>e&&(t=e,this.startDate=t.toISOString().substr(0,7),this.endDate=e.toISOString().substr(0,7)),e.setMonth(e.getMonth()+1);const r=0==this.data[0].weeks[0].w;r?(a=this.data[0].weeks.findIndex(e=>new Date(e.ws)>=t),s=this.data[0].weeks.findIndex(t=>new Date(t.ws)>e)):(a=this.data[0].weeks.findIndex(e=>1e3*e.w>=t.getTime()),s=this.data[0].weeks.findIndex(t=>1e3*t.w>e.getTime())),-1==a&&(a=0),-1==s&&(s=this.data[0].weeks.length),this.data.forEach(t=>{const e=t.weeks.slice(a,s);t.subTotal=e.map(t=>t.c).reduce((t,e)=>t+e,0),t.subTotalAdditions=e.map(t=>t.a).reduce((t,e)=>t+e,0),t.subTotalDeletions=e.map(t=>t.d).reduce((t,e)=>t+e,0)}),this.changeDataRankings(),this.updateOverallData()},changeInfoType(t){this.selected.info=t.name,this.selected.rankingType=t.name+"Rank",this.lineChartExtend.yAxis.max=t.lineYAxisMax,this.barChartSettings.yAxisName[0]=t.barYAxisName,this.barChartExtend.series.itemStyle.color=t.color,this.personalData.forEach(e=>e.columns=["ws",t.mode]),this.overallData.columns=["author",this.selected.info],this.updateOverallData(),this.chipColor=t.color},changeChartType(t){this.selected.chart=t.name},changeFilterType(t){this.selected.filter=t.name,this.updateOverallData()},initDate(){const t=this.data[0].weeks[0],e=0==t.w;this.startDate=e?new Date(t.ws).toISOString().substr(0,7):new Date(1e3*t.w).toISOString().substr(0,7),this.endDate=(new Date).toISOString().substr(0,7)},initLineYAxisMax(){this.infoActivities[0].lineYAxisMax=Math.max(...this.data.map(t=>t.total)),this.infoActivities[1].lineYAxisMax=Math.max(...this.data.map(t=>t.totalAdditions)),this.infoActivities[2].lineYAxisMax=Math.max(...this.data.map(t=>t.totalDeletions))},getContributeInfo(){xe(this.repoId).then(t=>{this.data=t.data,this.data.forEach((t,e)=>{null===t.author.avatar_url&&(t.author.avatar_url="https://i.stack.imgur.com/frlIf.png"),this.personalData.push({columns:["ws","c"],rows:t.weeks})}),this.selectedMembers=[...this.data],this.initDate(),this.initLineYAxisMax(),this.changeDataTimeRange(),this.updateOverallData()}).catch(t=>{alert("系統錯誤")})}},mounted(){this.getContributeInfo()}})),Le=Ue,Ee=(a("d7c8"),Object(x["a"])(Le,Re,Me,!1,null,null,null)),$e=Ee.exports,ze=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("v-tabs",[e("v-tab",[t._v("Open")]),e("v-tab",[t._v("Close")]),e("v-tab-item",[e("v-data-table",{staticClass:"elevation-1",attrs:{loading:t.loading,"loading-text":"Loading... Please wait",dense:"",headers:t.headers,items:t.items.openIssues},scopedSlots:t._u([{key:"item.title",fn:function({item:a}){return[e("a",{attrs:{href:a.html_url,target:"aboutblank"}},[t._v(t._s(a.title))])]}}],null,!0)})],1),e("v-tab-item",[e("v-card-text",[t._v("Average Issue Processing Time："+t._s(t.items.averageDealWithIssueTime))]),e("v-data-table",{staticClass:"elevation-1",attrs:{loading:t.loading,"loading-text":"Loading... Please wait",dense:"",headers:t.headers,items:t.items.closeIssues},scopedSlots:t._u([{key:"item.title",fn:function({item:a}){return[e("a",{attrs:{href:a.html_url,target:"aboutblank"}},[t._v(t._s(a.title))])]}},{key:"item.user.login",fn:function({item:a}){return[e("a",{attrs:{href:a.user.html_url,target:"aboutblank"}},[t._v(t._s(a.user.login))])]}}],null,!0)})],1)],1)],1)},qe=[],Fe=s["default"].extend({props:{repoId:Number},data(){return{loading:!0,headers:[{text:"No.",align:"start",value:"number",width:"4%"},{text:"Title",value:"title",width:"65%"},{text:"IssuesProposer",value:"user.login"},{text:"CreatedTime",value:"created_at"},{text:"ClosedTime",value:"closed_at"}],items:[]}},async created(){this.items=(await ye(this.repoId))["data"],this.loading=!1},methods:{}}),Je=Fe,We=Object(x["a"])(Je,ze,qe,!1,null,null,null),Ye=We.exports,Ze=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-container",[e("v-row",{attrs:{align:"center"}},[e("v-switch",{attrs:{label:"Compare"},on:{change:t.changeSwitch},model:{value:t.isCompare,callback:function(e){t.isCompare=e},expression:"isCompare"}}),e("v-select",{directives:[{name:"show",rawName:"v-show",value:t.isCompare,expression:"isCompare"}],staticClass:"mx-4",attrs:{items:t.projects,"item-text":"name","item-value":"id",label:"Compared Project"},on:{change:t.changeProject},model:{value:t.selectedProject,callback:function(e){t.selectedProject=e},expression:"selectedProject"}}),e("v-select",{directives:[{name:"show",rawName:"v-show",value:t.isCompare,expression:"isCompare"}],staticClass:"mx-4",attrs:{items:t.repos,"item-text":"name","item-value":"id",disabled:null==t.selectedProject,label:"Compared Repo"},model:{value:t.selectedRepo,callback:function(e){t.selectedRepo=e},expression:"selectedRepo"}})],1),e("v-row",{attrs:{align:"center"}},[e("v-divider")],1)],1)},Ve=[],Ge=s["default"].extend({data(){return{isCompare:!1,projects:[],repos:[],selectedProject:null,selectedRepo:null}},watch:{selectedRepo:function(t){this.$emit("change",{isCompare:this.isCompare,repoId:t})}},created(){this.getprojects()},methods:{async getprojects(){this.projects=(await B())["data"]},changeSwitch(){this.isCompare?this.$emit("change",{isCompare:this.isCompare,repoId:this.selectedRepo}):this.$emit("change",{isCompare:this.isCompare,repoId:null})},changeProject(t){et(t).then(t=>{this.repos=t.data})}}}),He=Ge,Ke=Object(x["a"])(He,Ze,Ve,!1,null,null,null),Qe=Ke.exports,Xe=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",[e("v-row",{staticClass:"mt-5 justify-center"},[e("v-col",{attrs:{cols:"12",lg:"10"}},[e("v-card",{attrs:{elevation:"2",outlined:""}},[e("v-container",{attrs:{fluid:""}},[e("v-row",[e("v-col",{staticClass:"text-left"},[e("span",[t._v(t._s(t.projectName))])])],1),e("v-row",[e("v-col",[e("span",{staticClass:"mr-2"},[t._v("Bugs")]),e("v-icon",[t._v("mdi-bug")]),e("v-row",{staticClass:"justify-center mt-2"},[e("span",{staticClass:"mr-2"},[t._v(t._s(t.getSingleMeasureDataValue("bugs")))])])],1),e("v-divider",{attrs:{vertical:""}}),e("v-col",[e("span",{staticClass:"mr-2"},[t._v("Vulnerabilities")]),e("v-icon",[t._v("mdi-security")]),e("v-row",{staticClass:"justify-center mt-2"},[e("span",{staticClass:"mr-2"},[t._v(t._s(t.getSingleMeasureDataValue("vulnerabilities")))])])],1),e("v-divider",{attrs:{vertical:""}}),e("v-col",[e("span",[t._v("Code Smells")]),e("v-row",{staticClass:"justify-center mt-2"},[e("span",{staticClass:"mr-2"},[t._v(t._s(t.getSingleMeasureDataValue("code_smells")))])])],1),e("v-divider",{attrs:{vertical:""}}),e("v-col",[e("span",[t._v("Coverage")]),e("v-row",{staticClass:"justify-center mt-2"},[e("span",{staticClass:"mr-2"},[t._v(t._s(t.getSingleMeasureDataValue("coverage"))+"%")])])],1),e("v-divider",{attrs:{vertical:""}}),e("v-col",[e("span",{staticClass:"mr-2"},[t._v("Duplications")]),e("v-icon",[t._v("mdi-content-duplicate")]),e("v-row",{staticClass:"justify-center mt-2"},[e("span",{staticClass:"mr-2"},[t._v(t._s(t.getSingleMeasureDataValue("duplicated_lines_density")))])])],1)],1)],1)],1)],1)],1),e("v-row",[e("v-card",{staticClass:"mx-auto text-left"},[e("v-container",[e("v-row",{attrs:{dense:""}},t._l(t.codeSmells,(function(a,s){return e("v-col",{key:s,attrs:{cols:"12"}},[e("v-card",[e("div",[e("div",[e("v-card-title",[t._v(t._s(s))]),t._l(a,(function(a,s){return e("v-card",{key:s,staticClass:"mt-1",attrs:{color:"#F2DEDE",href:t.getUrl(a.key)}},[e("v-card-text",{staticStyle:{color:"black","font-weight":"bold"}},[e("v-chip",{staticClass:"ma-2",attrs:{color:t.colorMapper[a.severity],"text-color":"white"}},[t._v(" "+t._s(a.severity)+" ")]),t._v(t._s(a.message))],1)],1)}))],2)])])],1)})),1)],1)],1)],1)],1)},ta=[],ea=s["default"].extend({props:{repoId:Number},data(){return{measures:[],projectName:String,codeSmells:{},colorMapper:{BLOCKER:"red",CRITICAL:"red",MAJOR:"red",MINOR:"green",INFO:"secondary"}}},created(){this.getSonarqubeInfo()},methods:{async getSonarqubeInfo(){const t=(await ke(this.repoId)).data;this.measures=t["measures"],this.projectName=t["projectName"],this.codeSmells=(await we(this.repoId)).data},getSingleMeasureDataValue(t){const e=this.measures.find(e=>e.metric===t);return null===e||void 0===e?void 0:e.value},getUrl(t){return"http://zxjte9411.ml:9000/project/issues?id=PMS_109&open="+t}}}),aa=ea,sa=Object(x["a"])(aa,Xe,ta,!1,null,null,null),ra=sa.exports,ia=s["default"].extend({components:{CommitChart:Te,CodebaseChart:Oe,ContributeChart:$e,IssuesTable:Ye,RepoInfoCompareForm:Qe,Sonarqube:ra},data(){return{tab:null,repoId:Number(this.$route.params.repoId),compareRepoId:null,isCompare:!1,isHaveSonarqube:!1}},created(){(async()=>{this.isHaveSonarqube=(await _e(this.repoId)).data})()},methods:{changeCompareRepo(t){t.isCompare!=this.isCompare&&(this.tab=null),this.isCompare=t.isCompare,this.compareRepoId=t.repoId}}}),oa=ia,na=(a("ba28"),Object(x["a"])(oa,pe,ve,!1,null,null,null)),la=na.exports,ca=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-container",{staticClass:"justify-center mt-10",staticStyle:{width:"70%"},attrs:{"fill-height":""}},[e("v-tabs",{attrs:{"background-color":"transparent",color:"basil",grow:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab",[t._v("Product backlog")]),e("v-tab",[t._v("Sprint")]),e("v-tab",[t._v("Board")])],1),e("v-tabs-items",{staticClass:"tab-item",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab-item",[e("ProductBacklog")],1),e("v-tab-item",[e("Sprint")],1),e("v-tab-item",[e("Board")],1),e("v-tab-item")],1)],1)},da=[],ua=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-container",[e("v-divider",{staticClass:"mx-4"}),e("v-row",[e("v-col",[e("v-combobox",{staticClass:"mt-1",attrs:{items:t.headers,"search-input":t.cbSearch,label:"Select the field that you want to show","auto-select-first":"",multiple:"","hide-selected":"","small-chips":""},on:{"update:searchInput":function(e){t.cbSearch=e},"update:search-input":function(e){t.cbSearch=e},change:function(e){return t.setFieldAlign()}},scopedSlots:t._u([{key:"selection",fn:function({attrs:a,item:s,parent:r,selected:i}){return[s===Object(s)?e("v-chip",t._b({attrs:{color:"amber lighten-4","input-value":i,label:"",small:""}},"v-chip",a,!1),[e("span",{staticClass:"pr-2"},[t._v(" "+t._s(s.text)+" ")]),e("v-icon",{attrs:{small:""},on:{click:function(t){return r.selectItem(s)}}},[t._v(" $delete ")])],1):t._e()]}},{key:"item",fn:function({item:a}){return[e("v-chip",{attrs:{color:a.disabled?"gray lighten-3":"amber lighten-4",label:"",small:""}},[t._v(" "+t._s(a.text+(a.disabled?" : default":""))+" ")])]}}]),model:{value:t.selectedField,callback:function(e){t.selectedField=e},expression:"selectedField"}})],1),e("v-col",{attrs:{cols:"4"}},[e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","hide-details":""},model:{value:t.dtSearch,callback:function(e){t.dtSearch=e},expression:"dtSearch"}})],1)],1),e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.issueData,search:t.dtSearch,"custom-sort":t.customSort,loading:t.loading,"loading-text":"Loading... Please wait","multi-sort":""},scopedSlots:t._u([t._l(t.headers,(function(a){return{key:"header."+a.value,fn:function({headers:s}){return[e("v-tooltip",{key:a.value,attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e("span",t._g({},s),[t._v(" "+t._s(a.text)+" ")])]}}],null,!0)},[t.headerTooltips[a.value]?e("span",[t._v(" "+t._s(t.headerTooltips[a.value])+" ")]):e("span",[t._v(" "+t._s(t.headerTooltips.default)+" ")])])]}}})),{key:"item.status",fn:function({item:a}){return[e("v-chip",{class:t.statusData[a.status].color},[t._v(" "+t._s(a.status)+" ")])]}},{key:"item.priority",fn:function({item:a}){return[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e("v-icon",t._g({attrs:{color:t.priorityData[a.priority].color}},s),[t._v(" "+t._s(t.priorityData[a.priority].icon)+" ")])]}}],null,!0)},[e("span",[t._v(" "+t._s(a.priority)+" ")])])]}},{key:"item.type",fn:function({item:a}){return[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e("v-icon",t._g({attrs:{color:t.taskTypeData[a.type].color}},s),[t._v(" "+t._s(t.taskTypeData[a.type].icon)+" ")])]}}],null,!0)},[e("span",[t._v(" "+t._s(a.type)+" ")])])]}}],null,!0)})],1)},ha=[];const pa=t=>S["a"].post(v+"/jira/issue",{RepoId:t},{headers:{Authorization:"Bearer "+$s.auth.getToken}}),va=()=>[{text:"Summary",value:"summary",disabled:!0},{text:"Type",value:"type",disabled:!0},{text:"Status",value:"status",disabled:!0},{text:"Priority",value:"priority",disabled:!0},{text:"Key",value:"key"},{text:"Resolution",value:"resolution"},{text:"Created",value:"created"},{text:"Updated",value:"updated"},{text:"Label",value:"label"}],ma=t=>S["a"].post(v+"/jira/sprint",{RepoId:t},{headers:{Authorization:"Bearer "+$s.auth.getToken}}),ba=(t,e)=>S["a"].post(v+"/jira/issueInfo",{RepoId:t,SprintId:e},{headers:{Authorization:"Bearer "+$s.auth.getToken}});var fa=s["default"].extend({data(){return{headerTooltips:{type:"Main ↔ Sub",status:"In Progress ↔ Done",priority:"Highest ↔ Lowest",default:"A ↔ Z"},priorityData:{Highest:{color:"deep-orange darken-1",icon:"mdi-chevron-double-up",sortPriority:5},High:{color:"deep-orange lighten-1",icon:"mdi-chevron-up",sortPriority:4},Medium:{color:"yellow darken-2",icon:"mdi-approximately-equal",sortPriority:3},Low:{color:"blue darken-1",icon:"mdi-chevron-down",sortPriority:2},Lowest:{color:"blue darken-3",icon:"mdi-chevron-double-down",sortPriority:1}},taskTypeData:{Task:{color:"red",icon:"mdi-file-document",sortPriority:2},Subtask:{color:"blue",icon:"mdi-file-tree",sortPriority:1}},statusData:{"In Progress":{color:"blue lighten-4 blue--text text--darken-4",sortPriority:3},"To Do":{color:"grey lighten-2 grey--text text--darken-3",sortPriority:2},Done:{color:"green lighten-4 green--text text--darken-4",sortPriority:1}},headers:[],selectedField:[],issueData:[],dtSearch:"",cbSearch:"",loading:!0}},methods:{setFieldAlign(){this.cbSearch="",this.headers.forEach((t,e)=>{this.selectedField.find(e=>e.value==t.value)||t.disabled?t.align="start":t.align=" d-none"})},getJiraField(){this.headers=va()},getJiraIssue(){this.loading=!1,pa(Number(this.$route.params.repoId)).then(t=>{this.loading=!0,t.data.result.forEach(t=>{this.issueData.push({key:t.key,summary:t.summary,type:t.type,priority:t.priority,status:t.status,resolution:t.resolution,label:t.label.join(", "),created:new Date(t.created).toLocaleString("zh-tw"),updated:new Date(t.updated).toLocaleString("zh-tw")})}),this.loading=!1}).catch(t=>{alert("系統錯誤")})},customSort(t,e,a){return t.sort((t,s)=>{let r=0;for(let i=0;i<e.length;i++){const o=e[i],n=a[i];if(r="priority"===o?this.priorityData[s.priority].sortPriority-this.priorityData[t.priority].sortPriority:"status"===o?this.statusData[s.status].sortPriority-this.statusData[t.status].sortPriority:"type"===o?this.taskTypeData[s.type].sortPriority-this.taskTypeData[t.type].sortPriority:"string"===typeof t[o]?t[o].toLowerCase().localeCompare(s[o].toLowerCase()):"number"===typeof t[o]?s[o]-t[o]:0,n&&(r=-r),r)break}return r}),t}},mounted(){this.getJiraIssue(),this.getJiraField(),this.setFieldAlign()}}),ga=fa,xa=Object(x["a"])(ga,ua,ha,!1,null,null,null),ya=xa.exports,ka=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-container",[e("v-divider",{staticClass:"mt-4 mb-12"}),e("v-select",{attrs:{items:t.data,"item-text":"sprint","return-object":""},on:{change:t.changeSprintInfo},model:{value:t.sprintSelected,callback:function(e){t.sprintSelected=e},expression:"sprintSelected"}}),e("h4",{staticStyle:{padding:"20px 0px"},attrs:{align:"left"}},[t._v("Sprint goal: "+t._s(t.sprintSelected.goal)+" ")]),e("h4",{staticStyle:{padding:"20px 0px 0px 0px"},attrs:{align:"left"}},[t._v("Burndown Chart:")]),e("ve-line",{attrs:{"legend-visible":!1,data:t.chartData,settings:t.chartSettings,colors:t.colors,extend:t.chartExtends}}),e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:t.issues,"items-per-page":5},on:{change:t.issueSelected},scopedSlots:t._u([{key:"item.status",fn:function({item:a}){return[e("v-chip",{class:t.getColor(a.status)},[t._v(" "+t._s(a.status)+" ")])]}}],null,!0)})],1)},_a=[],wa=s["default"].extend({data(){return{headers:[{text:"Name",value:"name"},{text:"Status",value:"status"},{text:"Point",value:"point"}],sprintSelected:{},issueSelected:{},chartData:{columns:["Date","Point","Expect"],rows:[{Date:"01/11",Point:"10",Expect:"10"},{Date:"01/12",Point:"10",Expect:"8.4"},{Date:"01/13",Point:"7",Expect:"6.8"},{Date:"01/14",Point:"5",Expect:"5.2"},{Date:"01/15",Point:"5",Expect:"3.6"},{Date:"01/16",Point:"5",Expect:"2"},{Date:"01/17",Point:"0",Expect:"0"}]},chartSettings:{yAxisName:["Point",""]},chartExtends:{xAxis:{axisLabel:{interval:0}},series:{smooth:!1}},colors:["#DE350B","#B3BAC5"],data:[],issues:[]}},methods:{getAllSprint(){ma(Number(this.$route.params.repoId)).then(t=>{t.data.result.forEach(t=>{this.data.push({sprint:t.name,goal:t.goal,id:t.id})}),this.data.reverse(),this.sprintSelected=this.data[0],this.changeSprintInfo()}).catch(t=>{alert("系統錯誤")})},changeSprintInfo(){ba(Number(this.$route.params.repoId),this.sprintSelected.id).then(t=>{this.issues=[],t.data.result.forEach(t=>{this.issues.push({name:t.summary,status:t.status,point:t.estimatePoint})}),this.issues.reverse()}).catch(t=>{alert("系統錯誤")})},getColor(t){return"In Progress"==t?"blue lighten-4 blue--text text--darken-4":"To Do"==t?"grey lighten-2 grey--text text--darken-3":"green lighten-4 green--text text--darken-4"}},mounted(){this.getAllSprint()}}),Ia=wa,ja=Object(x["a"])(Ia,ka,_a,!1,null,null,null),Ca=ja.exports,Da=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-container",[e("v-divider",{staticClass:"mt-4 mb-6"}),e("v-row",{staticClass:"mx-auto"},[e("div",{staticClass:"col-4"},[e("div",{staticClass:"text-h4 d-flex pb-4"},[t._v(t._s(t.sprint.name))]),e("div",{staticClass:"d-flex",staticStyle:{color:"rgba(0, 0, 0, 0.54)"}},[t._v(" "+t._s(t.sprint.goal)+" ")])])]),e("v-row",{staticStyle:{width:"auto"}},[e("v-col",{staticStyle:{width:"33.33%"}},[e("v-card",{staticClass:"mx-auto grey lighten-4 grey--text text--darken-4",attrs:{height:"700"}},[e("v-card-text",[e("div",{attrs:{align:"left"}},[e("h3",[t._v("TO DO")])]),e("IssueDetail",{attrs:{Conditions:"To Do"}})],1)],1)],1),e("v-col",{staticStyle:{width:"33.33%"}},[e("v-card",{staticClass:"mx-auto grey lighten-4 grey--text text--darken-4",attrs:{height:"700"}},[e("v-card-text",[e("div",{attrs:{align:"left"}},[e("h3",[t._v("IN PROGRESS")])]),e("IssueDetail",{attrs:{Conditions:"In Progress"}})],1)],1)],1),e("v-col",{staticStyle:{width:"33.3%"}},[e("v-card",{staticClass:"mx-auto grey lighten-4 grey--text text--darken-4",attrs:{height:"700"}},[e("v-card-text",[e("div",{attrs:{align:"left"}},[e("h3",[t._v("DONE")])]),e("IssueDetail",{attrs:{Conditions:"Done"}})],1)],1)],1)],1)],1)},Ta=[],Aa=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",t._l(t.data,(function(a,s){return e("div",{key:a.total},[a.status===t.Conditions?e("div",{key:s.total},[e("v-dialog",{attrs:{width:"800"},scopedSlots:t._u([{key:"activator",fn:function({on:s,attrs:r}){return[e("v-card",t._g(t._b({staticClass:"my-2 px-6 pt-2 pb-6",attrs:{height:"auto"}},"v-card",r,!1),s),[e("v-row",[e("v-card-subtitle",{staticClass:"font-weight-bold"},[e("v-icon",{attrs:{color:"primary"}},[t._v("mdi-checkbox-marked-circle")]),t._v(" "+t._s(a.key)+" ")],1)],1),e("v-card-text",{staticClass:"text-left text--primary pt-3 pb-6 px-2"},[t._v(" "+t._s(a.summary)+" ")]),e("v-row",{attrs:{justify:"space-around"}},[t._l(a.labels,(function(s){return e("v-chip",{key:s.total,class:t.getColor(a.status)},[t._v(" "+t._s(s)+" ")])})),e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e("v-icon",t._g({attrs:{color:t.priorityData[a.priority].color}},s),[t._v(" "+t._s(t.priorityData[a.priority].icon)+" ")])]}}],null,!0)},[e("span",[t._v(" "+t._s(a.priority)+" ")])]),e("v-chip",{staticClass:"red lighten-4 red--text text--darken-4"},[t._v(" "+t._s(a.storypoint)+" ")])],2)],1)]}}],null,!0),model:{value:t.dialog["dialog_"+s],callback:function(e){t.$set(t.dialog,"dialog_"+s,e)},expression:"dialog['dialog_' + index]"}},[e("v-card",{staticClass:"text-left"},[e("v-card-title",{staticClass:"text-h5 font-weight-bold py-5"},[e("v-icon",{staticClass:"mr-2",attrs:{color:"primary"}},[t._v("mdi-checkbox-marked-circle")]),t._v(" "+t._s(a.key)+" "+t._s(a.summary)+" ")],1),e("v-divider"),e("v-card-text",{staticClass:"body-1 black--text font-weight-bold pt-6"},[t._v("Descriptions：")]),e("v-card-text",[t._v(" "+t._s(a.description)+" ")]),e("v-card-text",{staticClass:"body-1 black--text font-weight-bold"},[t._v(" Child issue：")]),e("v-data-table",{staticClass:"elevation-1",attrs:{headers:t.headers,items:a.subtasks},scopedSlots:t._u([{key:"item.status",fn:function({item:a}){return[e("v-chip",{class:t.statusData[a.status].color},[t._v(" "+t._s(a.status)+" ")])]}},{key:"item.priority",fn:function({item:a}){return[e("v-tooltip",{attrs:{bottom:""},scopedSlots:t._u([{key:"activator",fn:function({on:s}){return[e("v-icon",t._g({attrs:{color:t.priorityData[a.priority].color}},s),[t._v(" "+t._s(t.priorityData[a.priority].icon)+" ")])]}}],null,!0)},[e("span",[t._v(" "+t._s(a.priority)+" ")])])]}}],null,!0)})],1)],1)],1):t._e()])})),0)},Sa=[];const Ba=()=>[{text:"Key",value:"key"},{text:"Summary",value:"summary"},{text:"Status",value:"status"}];var Na=s["default"].extend({props:{Conditions:String},data(){return{priorityData:{Highest:{color:"deep-orange darken-1",icon:"mdi-chevron-double-up"},High:{color:"deep-orange lighten-1",icon:"mdi-chevron-up"},Medium:{color:"yellow darken-2",icon:"mdi-approximately-equal"},Low:{color:"blue darken-1",icon:"mdi-chevron-down"},Lowest:{color:"blue darken-3",icon:"mdi-chevron-double-down"}},statusData:{"In Progress":{color:"blue lighten-4 blue--text text--darken-4"},"To Do":{color:"grey lighten-2 grey--text text--darken-3"},Done:{color:"green lighten-4 green--text text--darken-4"}},data:[],dialog:[],headers:[]}},methods:{getAllBoardInfo(){ma(Number(this.$route.params.repoId)).then(t=>{const e=t.data.result.pop();ba(Number(this.$route.params.repoId),Number(e.id)).then(t=>{this.data=[],t.data.result.forEach(t=>{this.data.push({key:t.key,summary:t.summary,status:t.status,storypoint:t.estimatePoint,labels:t.label,priority:t.priority,description:t.description,subtasks:t.subTasks})}),this.data.reverse()}).catch(t=>{alert("系統錯誤")})}).catch(t=>{alert("系統錯誤")})},getSubtasks(){this.headers=Ba()},getColor(t){return"Frontend"===t?"blue lighten-4 blue--text text--darken-4":"green lighten-4 green--text text--darken-4"}},mounted(){this.getAllBoardInfo(),this.getSubtasks()}}),Pa=Na,Oa=Object(x["a"])(Pa,Aa,Sa,!1,null,null,null),Ra=Oa.exports,Ma=s["default"].extend({components:{IssueDetail:Ra},data(){return{sprint:{}}},methods:{getAllSprint(){ma(Number(this.$route.params.repoId)).then(t=>{this.sprint=t.data.result.pop()}).catch(t=>{alert("系統錯誤")})}},mounted(){this.getAllSprint()}}),Ua=Ma,La=Object(x["a"])(Ua,Da,Ta,!1,null,null,null),Ea=La.exports,$a=s["default"].extend({components:{ProductBacklog:ya,Sprint:Ca,Board:Ea},data(){return{tab:null}},methods:{}}),za=$a,qa=(a("0805"),Object(x["a"])(za,ca,da,!1,null,null,null)),Fa=qa.exports,Ja=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-container",{staticClass:"paper align-center justify-center",attrs:{"fill-height":"",fluid:""}},[e("div",[e("h1",{staticClass:"title"},[t._v("404找不到頁面喔QQ")])])])},Wa=[],Ya=s["default"].extend({}),Za=Ya,Va=(a("2c8d"),Object(x["a"])(Za,Ja,Wa,!1,null,null,null)),Ga=Va.exports,Ha=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-container",{staticClass:"paper"},t._l(t.dataList,(function(t){return e("TrelloList",{key:t.listId,staticClass:"list",attrs:{ListName:t.name,ListId:t.listId}})})),1)},Ka=[],Qa=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("div",{staticClass:"border card-width"},[e("div",[t._v(t._s(t.ListName))]),t._l(t.cardList,(function(a){return e("el-card",{key:a.id,staticClass:"box-card card-style"},[e("el-row",[e("el-col",{attrs:{span:20}},[e("div",{staticClass:"text item",staticStyle:{"word-break":"break-all"}},[t._v(t._s(a.name))])]),e("el-col",{attrs:{span:4}},[e("div",{staticClass:"el-icon-more-outline action"})])],1)],1)})),e("el-row",[e("v-edit-dialog",{scopedSlots:t._u([{key:"input",fn:function(){return[e("v-text-field",{attrs:{label:"卡片名稱"},model:{value:t.newCardName,callback:function(e){t.newCardName=e},expression:"newCardName"}}),e("el-button",{staticStyle:{float:"right"},attrs:{size:"small",type:"primary"},on:{click:function(e){return t.addNewCard()}}},[t._v("新增")])]},proxy:!0}])},[e("div",{staticClass:"text-h8 el-icon-plus add-card"},[t._v("新增卡片")])])],1)],2)},Xa=[];const ts=(t,e)=>S["a"].post(v+"/Trello/trelloLists",{BoardId:e,Account:t},{headers:{"Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+$s.auth.getToken}}),es=(t,e)=>S["a"].post(v+"/Trello/trelloCardsInList",{ListId:e,Account:t},{headers:{"Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+$s.auth.getToken}}),as=(t,e,a)=>S["a"].post(v+"/Trello/addTrelloCardInList",{Account:t,ListId:e,Name:a},{headers:{"Content-Type":"application/json; charset=UTF-8",Authorization:"Bearer "+$s.auth.getToken}});var ss=s["default"].extend({props:{ListId:String,ListName:String},data(){return{cardList:[],newCardName:""}},mounted(){this.getAsyncTrelloCardById()},methods:{async getAsyncTrelloCardById(){const t=await es("123",this.ListId);this.cardList=[];for(const e in t.data)this.cardList.push({id:t.data[e].cardId,name:t.data[e].cardName})},addNewCard(){this.addAsyncNewCardToList(),this.newCardName=""},async addAsyncNewCardToList(){await as("123",this.ListId,this.newCardName);this.getAsyncTrelloCardById()}}}),rs=ss,is=(a("5f26"),Object(x["a"])(rs,Qa,Xa,!1,null,null,null)),os=is.exports,ns=s["default"].extend({components:{TrelloList:os},data(){return{dataList:[]}},mounted(){this.getAsyncTrelloListById()},methods:{async getAsyncTrelloListById(){const t=await ts("123",this.$route.params.boardId);for(const e in t.data)this.dataList.push({listId:t.data[e].listId,name:t.data[e].listName}),console.log(t.data[e].listId)}}}),ls=ns,cs=(a("6f68"),Object(x["a"])(ls,Ha,Ka,!1,null,null,null)),ds=cs.exports,us=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-container",{staticClass:"align-start",attrs:{fluid:"","fill-height":""}},[e("v-row",{staticClass:"justify-center"},[e("v-col",{attrs:{cols:"8",sm:"6",md:"7",lg:"8"}},[e("v-tabs",{attrs:{"background-color":"teal darken-3","fixed-tabs":"",dark:""},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[t._l(t.items,(function(a){return e("v-tab",{key:a},[t._v(" "+t._s(a)+" ")])})),e("v-tabs-items",{staticClass:"tab-item",model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},[e("v-tab-item",[e("ManageAccount",{attrs:{users:t.users},on:{showMessage:t.showMessage,update:t.update}})],1),e("v-tab-item",[e("ManageProject",{attrs:{projects:t.projects},on:{showMessage:t.showMessage,update:t.update}})],1)],1)],2)],1)],1),e("v-snackbar",{attrs:{timeout:t.snackBarTimeout,color:t.snackBarColor},model:{value:t.snackBar,callback:function(e){t.snackBar=e},expression:"snackBar"}},[t._v(" "+t._s(t.message)+" ")])],1)},hs=[],ps=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-data-table",{staticClass:"elevation-3 align-self-center",attrs:{headers:t.headers,items:t.users,"sort-by":"account",search:t.search,"custom-filter":t.filter},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-toolbar",{attrs:{flat:""}},[e("v-toolbar-title",[t._v("Account Manage")]),e("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e("v-spacer"),e("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),e("v-card-text",[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"6"}},[e("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1),e("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"6"}},[e("v-select",{attrs:{items:t.authorities,label:"Authority","return-object":"","single-line":""},model:{value:t.editedItem.authority,callback:function(e){t.$set(t.editedItem,"authority",e)},expression:"editedItem.authority"}})],1),e("v-col",{attrs:{cols:"12",sm:"12",md:"12",lg:"12"}},[e("v-text-field",{attrs:{label:"AvatarUrl"},model:{value:t.editedItem.avatarUrl,callback:function(e){t.$set(t.editedItem,"avatarUrl",e)},expression:"editedItem.avatarUrl"}})],1)],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),e("v-dialog",{attrs:{"max-width":"550px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e("v-card",[e("v-card-title",{staticClass:"headline",model:{value:t.deleteUserName,callback:function(e){t.deleteUserName=e},expression:"deleteUserName"}},[t._v("Are you sure you want to delete "+t._s(t.deleteUserName)+" ?")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),e("v-spacer")],1)],1)],1)],1),e("v-divider")]},proxy:!0},{key:"item.actions",fn:function({item:a}){return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editUser(a)}}},[t._v(" mdi-pencil ")]),e("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteUser(a)}}},[t._v(" mdi-delete ")])]}}],null,!0)})},vs=[],ms=s["default"].extend({props:["users"],data(){return{search:"",dialog:!1,dialogDelete:!1,authorities:["Admin","User"],headers:[{text:"Account (Id)",align:"start",value:"account"},{text:"Name",value:"name"},{text:"AvatarUrl",value:"avatarUrl"},{text:"Authority",value:"authority"},{text:"Actions",value:"actions",sortable:!1}],editedIndex:-1,deleteUserName:"",editedItem:{name:"",avatarUrl:"",authority:""},defaultItem:{name:"",avatarUrl:"",authority:""}}},computed:{formTitle(){return-1===this.editedIndex?"New User":"Edit User"}},watch:{dialog(t){t||this.close()},dialogDelete(t){t||this.closeDelete()}},methods:{filter(t,e,a){return a.name.includes(e)||a.account.includes(e)},editUser(t){this.editedIndex=this.users.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteUser(t){this.editedIndex=this.users.indexOf(t),this.editedItem=Object.assign({},t),this.deleteUserName=this.users[this.editedIndex].name,this.dialogDelete=!0},async deleteItemConfirm(){const t=(await jt(this.users[this.editedIndex].account))["data"];t.success&&this.users.splice(this.editedIndex,1),this.$emit("update"),this.$emit("showMessage",t),this.closeDelete()},close(){this.dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeDelete(){this.dialogDelete=!1,this.deleteUserName="",this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},findDifferent(t,e){const a=[];return t.name!==e.name&&a.push({value:e.name,path:"/name",op:"replace"}),t.avatarUrl!==e.avatarUrl&&a.push({value:e.avatarUrl,path:"/avatarUrl",op:"replace"}),t.authority!==e.authority&&a.push({value:e.authority,path:"/authority",op:"replace"}),a},save(){if(this.editedIndex>-1){const t=this.users[this.editedIndex],e=this.findDifferent(t,this.editedItem);Object.assign(this.users[this.editedIndex],this.editedItem),Ct(t.account,e).then(t=>{t.data.success&&(this.$emit("showMessage",t.data),this.$emit("update"))}).catch(t=>{this.$emit("showMessage",t),this.$emit("update")})}else this.users.push(this.editedItem);this.close()}}}),bs=ms,fs=Object(x["a"])(bs,ps,vs,!1,null,null,null),gs=fs.exports,xs=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-data-table",{staticClass:"elevation-3 align-self-center",attrs:{headers:t.headers,items:t.projects,"sort-by":"id",search:t.search},scopedSlots:t._u([{key:"top",fn:function(){return[e("v-toolbar",{attrs:{flat:""}},[e("v-toolbar-title",[t._v("Project Manage")]),e("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),e("v-text-field",{attrs:{"append-icon":"mdi-magnify",label:"Search","single-line":"","hide-details":""},model:{value:t.search,callback:function(e){t.search=e},expression:"search"}}),e("v-spacer"),e("v-dialog",{attrs:{"max-width":"500px"},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[e("v-card",[e("v-card-title",[e("span",{staticClass:"headline"},[t._v(t._s(t.formTitle))])]),e("v-card-text",[e("v-container",[e("v-row",[e("v-col",{attrs:{cols:"12",sm:"6",md:"6",lg:"6"}},[e("v-text-field",{attrs:{label:"Name"},model:{value:t.editedItem.name,callback:function(e){t.$set(t.editedItem,"name",e)},expression:"editedItem.name"}})],1)],1)],1)],1),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.close}},[t._v(" Cancel ")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.save}},[t._v(" Save ")])],1)],1)],1),e("v-dialog",{attrs:{"max-width":"550px"},model:{value:t.dialogDelete,callback:function(e){t.dialogDelete=e},expression:"dialogDelete"}},[e("v-card",[e("v-card-title",{staticClass:"headline"},[t._v("Are you sure you want to delete this Project?")]),e("v-card-actions",[e("v-spacer"),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.closeDelete}},[t._v("Cancel")]),e("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:t.deleteItemConfirm}},[t._v("OK")]),e("v-spacer")],1)],1)],1)],1),e("v-divider")]},proxy:!0},{key:"item.actions",fn:function({item:a}){return[e("v-icon",{staticClass:"mr-2",attrs:{small:""},on:{click:function(e){return t.editItem(a)}}},[t._v(" mdi-pencil ")]),e("v-icon",{attrs:{small:""},on:{click:function(e){return t.deleteItem(a)}}},[t._v(" mdi-delete ")])]}}],null,!0)})},ys=[],ks=s["default"].extend({props:["projects"],data:()=>({search:"",dialog:!1,dialogDelete:!1,headers:[{text:"Id",align:"start",value:"id"},{text:"Name",value:"name"},{text:"Owner",value:"ownerName"},{text:"Members",value:"members"},{text:"Actions",value:"actions",sortable:!1}],editedIndex:-1,editedItem:{name:""},defaultItem:{name:""}}),computed:{formTitle(){return-1===this.editedIndex?"New Project":"Edit Project"}},watch:{dialog(t){t||this.close()},dialogDelete(t){t||this.closeDelete()}},methods:{editItem(t){this.editedIndex=this.projects.indexOf(t),this.editedItem=Object.assign({},t),this.dialog=!0},deleteItem(t){this.editedIndex=this.projects.indexOf(t),this.editedItem=Object.assign({},t),this.dialogDelete=!0},async deleteItemConfirm(){const t=(await E(this.projects[this.editedIndex].id))["data"];t.success&&this.projects.splice(this.editedIndex,1),this.$emit("update"),this.$emit("showMessage",t),this.closeDelete()},close(){this.dialog=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},closeDelete(){this.dialogDelete=!1,this.$nextTick(()=>{this.editedItem=Object.assign({},this.defaultItem),this.editedIndex=-1})},save(){if(this.editedIndex>-1){const t=[{value:this.editedItem.name,path:"/name",op:"replace"}];Object.assign(this.projects[this.editedIndex],this.editedItem);const e=this.projects[this.editedIndex];L(e.id,t).then(t=>{t.data.success&&(this.$emit("showMessage",t.data),this.$emit("update"))}).catch(t=>{this.$emit("showMessage",t),this.$emit("update")})}else this.projects.push(this.editedItem);this.close()}}}),_s=ks,ws=Object(x["a"])(_s,xs,ys,!1,null,null,null),Is=ws.exports,js=s["default"].extend({data(){return{users:[],projects:[],tab:null,items:["Account Manage","Project Manage"],repoId:Number(this.$route.params.repoId),message:"",snackBar:!1,snackBarTimeout:3e3,snackBarColor:""}},methods:{async initialize(){this.projects=(await $())["data"],this.users=(await It())["data"]},showMessage(t){this.snackBarColor=t.success?"green":"red",this.message=t.message,this.snackBar=!0,t.success&&this.update()},update(){this.initialize()}},components:{ManageAccount:gs,ManageProject:Is},created(){this.initialize()}}),Cs=js,Ds=Object(x["a"])(Cs,us,hs,!1,null,null,null),Ts=Ds.exports;s["default"].use(u["a"]);const As=(t,e,a)=>{const s=t?$s.auth.isAuthenticated:!$s.auth.isAuthenticated;s?a():a({name:e})},Ss=[{path:"/",name:"Login",component:k,beforeEnter:(t,e,a)=>As(!1,"Project",a)},{path:"/oauth-callback/github",component:he},{path:"/admin",name:"AdminLogin",component:D,beforeEnter:(t,e,a)=>As(!1,"Manage",a)},{path:"/project",name:"Project",component:Nt,beforeEnter:(t,e,a)=>As(!0,"Login",a)},{path:"/project/:projectId",name:"Repository",component:oe,beforeEnter:(t,e,a)=>As(!0,"Login",a)},{path:"/Trello/:boardId",name:"Trello",component:ds,beforeEnter:(t,e,a)=>As(!0,"Login",a)},{path:"/project/:projectId/repoinfo/:repoId",name:"RepoInfo",component:la,beforeEnter:(t,e,a)=>As(!0,"Login",a)},{path:"/project/:projectId/jirainfo/:repoId",name:"JiraInfo",component:Fa,beforeEnter:(t,e,a)=>As(!0,"Login",a)},{path:"*",name:"NotFound",component:Ga},{path:"/admin/manage",name:"Manage",component:Ts,beforeEnter:(t,e,a)=>{$s.auth.isAuthenticated&&"Admin"==$s.auth.getAuthority?a():a({name:"Login"})}}],Bs=new u["a"]({mode:"history",base:"/",routes:Ss});var Ns=Bs;const Ps=t=>S["a"].post(v+"/authorize/github",{code:t},{headers:{"Content-Type":"application/json; charset=UTF-8"}}),Os=(t,e)=>S["a"].post(v+"/authorize/admin",{account:t,password:e});var Rs=a("8511");class Ms{constructor(){Object(l["a"])(this,"token",null),Object(l["a"])(this,"authority",null),Object(l["a"])(this,"userAccount",null),Object(l["a"])(this,"handleLoginResponse",t=>{this.setToken(t.data.token),this.setAuthority(t.data.authority),this.setUserAccount(t.data.userAccount)})}setToken(t){this.token=t}setAuthority(t){this.authority=t}setUserAccount(t){this.userAccount=t}get isAuthenticated(){return!!this.token}get getToken(){return this.token}get getAuthority(){return this.authority}get getUserAccount(){return this.userAccount}async login(t){Ps(t).then(t=>{this.handleLoginResponse(t),Ns.push("/project")}).catch(t=>{Ns.push("notfound")})}async loginByAdmin(t){await Os(t.account,t.password).then(t=>{this.handleLoginResponse(t),Ns.push("/admin/manage")}).catch(t=>{400==t.response.status?alert(t.response.data.detail):Ns.push("notfound")})}logout(){this.setToken(null),this.setAuthority(null),this.setUserAccount(null),Ns.push("/")}}Object(c["a"])([Object(Rs["e"])()],Ms.prototype,"token",void 0),Object(c["a"])([Object(Rs["e"])()],Ms.prototype,"authority",void 0),Object(c["a"])([Object(Rs["e"])()],Ms.prototype,"userAccount",void 0),Object(c["a"])([Object(Rs["d"])()],Ms.prototype,"setToken",null),Object(c["a"])([Object(Rs["d"])()],Ms.prototype,"setAuthority",null),Object(c["a"])([Object(Rs["d"])()],Ms.prototype,"setUserAccount",null),Object(c["a"])([Object(Rs["b"])()],Ms.prototype,"isAuthenticated",null),Object(c["a"])([Object(Rs["b"])()],Ms.prototype,"getToken",null),Object(c["a"])([Object(Rs["b"])()],Ms.prototype,"getAuthority",null),Object(c["a"])([Object(Rs["b"])()],Ms.prototype,"getUserAccount",null),Object(c["a"])([Object(Rs["a"])()],Ms.prototype,"login",null),Object(c["a"])([Object(Rs["a"])()],Ms.prototype,"loginByAdmin",null),Object(c["a"])([Object(Rs["a"])()],Ms.prototype,"logout",null);var Us=a("0e44");s["default"].use(d["b"]);class Ls{constructor(){Object(l["a"])(this,"auth",new Ms)}}Object(c["a"])([Object(Rs["c"])()],Ls.prototype,"auth",void 0);const Es=new Ls;Object(Rs["f"])(Es,{plugins:[Object(Us["a"])()]});var $s=Es,zs=function(){var t=this,e=t._self._c;t._self._setupProxy;return e("v-menu",{attrs:{"close-on-content-click":!1,"offset-y":"",transition:"scale-transition"},scopedSlots:t._u([{key:"activator",fn:function({on:a,attrs:s}){return[e("v-btn",t._g(t._b({attrs:{icon:""}},"v-btn",s,!1),a),[e("v-badge",{attrs:{dot:"",value:t.hasMessage}},[e("v-icon",{attrs:{large:""}},[t._v(" mdi-bell-circle ")])],1)],1)]}}])},[e("v-list",{staticClass:"overflow-y-auto",attrs:{"two-line":"",width:"500","max-height":"500"}},[t.hasMessage?t._e():e("v-sheet",{attrs:{width:"500"}},[e("div",[t._v("No invitation message!")])]),t._l(t.items,(function(a,s){return[e("v-list-item",{key:a.invitedProject.id},[e("v-list-item-content",[e("v-list-item-title",{staticClass:"text-left mb-2",domProps:{textContent:t._s(a.inviter.name)}}),e("v-list-item-subtitle",{staticClass:"text-left",domProps:{textContent:t._s(t.subtitleText+a.invitedProject.name)}})],1),e("v-list-item-action",[e("div",{staticClass:"d-flex"},[e("v-btn",{attrs:{color:"green",icon:""},on:{click:function(e){return t.accept(a)}}},[e("v-icon",[t._v("mdi-check")])],1),e("v-btn",{attrs:{color:"red",icon:""},on:{click:function(e){return t.reject(a)}}},[e("v-icon",[t._v("mdi-close")])],1)],1)])],1),s<t.items.length-1?e("v-divider",{key:a.invitedProject.name}):t._e()]}))],2)],1)},qs=[],Fs=a("1a9a"),Js=s["default"].extend({data(){return{hubConnection:(new Fs["a"]).withUrl(v+"/hub/notify").build(),hasMessage:!1,subtitleText:"invite you to join：",items:[],userAccount:$s.auth.getUserAccount}},created(){this.connectHub(),this.lisentNotification(),this.getNotificationData()},beforeDestroy(){this.unsubscribeNotification()},methods:{getNotificationData(){Xt().then(t=>{this.items=t.data,"undefined"!==typeof this.items&&this.items.length>0?this.hasMessage=!0:this.hasMessage=!1})},accept(t){ae(t.id,!0).then(()=>{this.getNotificationData(),Tt.emit("updateProject")})},reject(t){ae(t.id,!1).then(()=>{this.getNotificationData()})},connectHub(){this.hubConnection.start().then(()=>{this.subscribeNotification()})},subscribeNotification(){this.hubConnection.send("SubscribeNotification",this.userAccount)},unsubscribeNotification(){this.hubConnection.send("UnsubscribeNotification",this.userAccount)},lisentNotification(){this.hubConnection.on("ReceiveNotification",()=>{this.getNotificationData()})}}}),Ws=Js,Ys=Object(x["a"])(Ws,zs,qs,!1,null,null,null),Zs=Ys.exports,Vs=s["default"].extend({components:{Notification:Zs},computed:{isAuth(){return $s.auth.isAuthenticated}},methods:{logout:()=>{$s.auth.logout()}}}),Gs=Vs,Hs=Object(x["a"])(Gs,o,n,!1,null,null,null),Ks=Hs.exports,Qs=s["default"].extend({components:{NavBar:Ks}}),Xs=Qs,tr=(a("2bfd"),Object(x["a"])(Xs,r,i,!1,null,null,null)),er=tr.exports,ar=a("2819"),sr=a.n(ar),rr=a("ce5b"),ir=a.n(rr),or=a("5c96"),nr=a.n(or);a("bf40");s["default"].use(ir.a),s["default"].use(sr.a),s["default"].use(nr.a),s["default"].config.productionTip=!1,new s["default"]({vuetify:new ir.a,router:Ns,render:t=>t(er)}).$mount("#app")},d7c8:function(t,e,a){"use strict";a("a3b7")},e8bd:function(t,e,a){},f78c:function(t,e,a){"use strict";a("91d2")}});
//# sourceMappingURL=app.812031b9.js.map